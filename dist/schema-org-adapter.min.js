!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SOA=e()}}((function(){var e=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},t=e((function(e,t){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}})),n=e((function(e,t){"use strict";const{parseLinkHeader:n,buildHeaders:r}=_i,{LINK_HEADER_CONTEXT:a}=fs,s=o({}),{prependBase:c}=i({}),l=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:o}={headers:{}})=>(t=r(t),(new s).wrapLoader((async function r(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new Ri('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new Ri('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise((e,o)=>{r.onload=()=>e(r),r.onerror=e=>o(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()})}(o,i,t)}catch(h){throw new Ri("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:h})}if(s.status>=400)throw new Ri("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let u={contextUrl:null,documentUrl:i,document:s.response},d=null;const p=s.getResponseHeader("Content-Type");let f;if(l.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),f&&"application/ld+json"!==p){const e=n(f),t=e[a];if(Array.isArray(t))throw new Ri("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(u.contextUrl=t.target),(d=e.alternate)&&"application/ld+json"==d.type&&!(p||"").match(/^application\/(\w*\+)?json$/)&&(u=await r(c(i,d.target)))}return u})))})),r=e((function(e,t){"use strict";const{parseLinkHeader:n,buildHeaders:r}=_i,{LINK_HEADER_CONTEXT:s}=fs,c=o({}),{prependBase:l}=i({});e.exports=({secure:e,strictSSL:t=!0,maxRedirects:o=-1,request:i,headers:u={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{u=r(u),i=i||a({});const d=a({});return(new c).wrapLoader((function(r){return async function r(a,c){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new Ri('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new Ri('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let p,f=null;if(null!==f)return f;let h=null;try{p=await function(e,t){return new Promise((n,r)=>{e(t,(e,t,o)=>{e?r(e):n({res:t,body:o})})})}(i,{url:a,headers:u,strictSSL:t,followRedirect:!1})}catch(v){throw new Ri("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:v})}const{res:y,body:g}=p;f={contextUrl:null,documentUrl:a,document:g||null};const m=d.STATUS_CODES[y.statusCode];if(y.statusCode>=400)throw new Ri(`URL "${a}" could not be dereferenced: ${m}`,"jsonld.InvalidUrl",{code:"loading document failed",url:a,httpStatusCode:y.statusCode});if(y.headers.link&&"application/ld+json"!==y.headers["content-type"]){const e=n(y.headers.link),t=e[s];if(Array.isArray(t))throw new Ri("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(f.contextUrl=t.target),(h=e.alternate)&&"application/ld+json"==h.type&&!(y.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(y.headers.location=l(a,h.target))}if((h||y.statusCode>=300&&y.statusCode<400)&&y.headers.location){if(c.length===o)throw new Ri("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:a,httpStatusCode:y.statusCode,redirects:c});if(-1!==c.indexOf(a))throw new Ri("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:a,httpStatusCode:y.statusCode,redirects:c});return c.push(a),r(y.headers.location,c)}return c.push(a),f}(r,[])}))}})),o=e((function(e,t){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}})),i=e((function(e,t){"use strict";const n={};e.exports=n,n.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},n.parse=(e,t)=>{const r={},o=n.parsers[t||"full"],i=o.regex.exec(e);let a=o.keys.length;for(;a--;)r[o.keys[a]]=void 0===i[a]?null:i[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=n.removeDotSegments(r.path),r},n.prependBase=(e,t)=>{if(null===e)return t;if(n.isAbsolute(t))return t;e&&!Ai.isString(e)||(e=n.parse(e||""));const r=n.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;((t=t.substr(0,t.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=n.removeDotSegments(o.path));let i=o.protocol;return null!==o.authority&&(i+="//"+o.authority),i+=o.path,null!==o.query&&(i+="?"+o.query),null!==r.fragment&&(i+="#"+r.fragment),""===i&&(i="./"),i},n.removeBase=(e,t)=>{if(null===e)return t;e&&!Ai.isString(e)||(e=n.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const o=n.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),s=o.fragment||o.query?0:1;for(;i.length>0&&a.length>s&&i[0]===a[0];)i.shift(),a.shift();let c="";if(i.length>0){i.pop();for(let e=0;e<i.length;++e)c+="../"}return c+=a.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},n.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const r=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;n.isAbsolute=e=>Ai.isString(e)&&r.test(e),n.isRelative=e=>Ai.isString(e)})),a=e((function(e,t){})),s=e((function(e,t){(function(e,n){(function(){var r=R.nextTick,o=(Function.prototype.apply,Array.prototype.slice),i={},a=0;function s(e,t){this._id=e,this._clearFn=t}s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},t.setImmediate="function"==typeof e?e:function(e){var n=a++,s=!(arguments.length<2)&&o.call(arguments,1);return i[n]=!0,r((function(){i[n]&&(s?e.apply(null,s):e.call(null),t.clearImmediate(n))})),n},t.clearImmediate="function"==typeof n?n:function(e){delete i[e]}}).call(this)}).call(this,s({}).setImmediate,s({}).clearImmediate)})),c=e((function(e,t){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLatestSchemaVersion=t.fetchSchemaVersions=t.constructURLSchemaVocabulary=t.toArray=t.switchIRIProtocol=t.toAbsoluteIRI=t.toCompactIRI=t.uniquifyArray=t.isArray=t.isString=t.isNil=t.isLanguageObjectVocab=t.isObject=t.cloneJson=void 0;const r=n(de),o=l({}).RetrievalMemory.getInstance();function i(e){return!Array.isArray(e)&&!a(e)&&"object"==typeof e}function a(e){return null==e}function s(e){return!a(e)&&("string"==typeof e||e instanceof String)}function c(e){return Object.entries(e).sort((e,t)=>+new Date(t[1])-+new Date(e[1]))}function u(e,t=!0){switch(e){case"2.0":case"2.1":case"2.2":case"3.0":throw new Error("There is no jsonld file for that schema.org version.");case"3.1":case"3.2":case"3.3":case"3.4":case"3.5":case"3.6":case"3.7":case"3.8":case"3.9":case"4.0":case"5.0":case"6.0":case"7.0":case"7.01":case"7.02":case"7.03":case"7.04":case"8.0":return"all-layers.jsonld";case"9.0":default:return t?"schemaorg-all-https.jsonld":"schemaorg-all-http.jsonld"}}function d(e){return e.startsWith("https://")?"http"+e.substring(5):e.startsWith("http://")?"https"+e.substring(4):e}t.cloneJson=function(e){return void 0===e?e:JSON.parse(JSON.stringify(e))},t.isObject=i,t.isLanguageObjectVocab=function(e){return!!(i(e)&&s(e["@language"])&&s(e["@value"]))},t.isNil=a,t.isString=s,t.isArray=function(e){return Array.isArray(e)},t.uniquifyArray=function(e){return[...new Set(e)]},t.toCompactIRI=function(e,t,n=!1){for(const r of Object.keys(t)){const o=t[r];if(s(o)&&e.startsWith(o))return r+":"+e.substring(o.length);if(n&&s(o)){const t=d(o);if(e.startsWith(t))return r+":"+e.substring(t.length)}}throw new Error("Trying to get a compact IRI for a term with no entry in the Context")},t.toAbsoluteIRI=function(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=t[n[r]];if(e.substring(0,e.indexOf(":"))===n[r])return o.concat(e.substring(e.indexOf(":")+1))}throw new Error("Trying to get an absolute IRI for a term with no entry in the Context")},t.switchIRIProtocol=d,t.toArray=e=>Array.isArray(e)?e:[e];function p(e){const t="/data/releases/";return e?"https://raw.githubusercontent.com/schemaorg/schemaorg/"+e+t:"https://raw.githubusercontent.com/semantifyit/schemaorg/main"+t}function f(e){const t="/versions.json";return e?"https://raw.githubusercontent.com/schemaorg/schemaorg/"+e+t:"https://raw.githubusercontent.com/semantifyit/schemaorg/main"+t}async function h(e="latest",t=!0,n){"latest"===e&&(e=await m(n));const r=u(e,t);return p(n)+e+"/"+r}async function y(e=!1,t){let n;if(e)o.deleteCache();else{const e=o.getData("versionsFile",t);if(e)return e}const i=f(t);try{n=await r.default.get(i)}catch(l){throw new Error("Unable to retrieve the schema.org versions file at "+i)}if(!n||!n.data||!n.data.releaseLog)throw new Error("The schema.org versions file at "+i+" returned an unexpected result.");const a=n.data;let s;if(o.setData("versionsFile",a,t),a.schemaversion&&await g(await h(a.schemaversion)))s=a.schemaversion;else{const e=c(a.releaseLog);for(const t of e)if(await g(await h(t[0]))){s=t[0];break}}if(!s)throw new Error('Could not find any valid vocabulary file in the schema.org versions to be declared as "latest".');return o.setData("latest",s,t),a}async function g(e){try{return await r.default.head(e),!0}catch(t){return!1}}async function m(e){let t=o.getData("latest",e);if(t||await y(!1,e),t=o.getData("latest",e))return t;throw new Error("Could not identify the latest version of the schema.org vocabulary")}t.constructURLSchemaVocabulary=h,t.fetchSchemaVersions=y,t.getLatestSchemaVersion=m})),l=e((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetrievalMemory=void 0;const n=c({});class r{constructor(){this.cache=new Map}static getInstance(){return r.instance||(r.instance=new r),r.instance}setData(e,t,r="standard"){let o=this.cache.get(r);o||(o={},this.cache.set(r,o)),o[e]=(0,n.cloneJson)(t)}getData(e,t="standard"){const r=this.cache.get(t);if(r)return(0,n.cloneJson)(r[e])}deleteCache(){this.cache=new Map}}t.RetrievalMemory=r})),u=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},d=Object.prototype.toString;function p(e){return"[object Array]"===d.call(e)}function f(e){return void 0===e}function h(e){return null!==e&&"object"==typeof e}function y(e){if("[object Object]"!==d.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function g(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),p(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var m={isArray:p,isArrayBuffer:function(e){return"[object ArrayBuffer]"===d.call(e)},isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:h,isPlainObject:y,isUndefined:f,isDate:function(e){return"[object Date]"===d.call(e)},isFile:function(e){return"[object File]"===d.call(e)},isBlob:function(e){return"[object Blob]"===d.call(e)},isStream:function(e){return h(e)&&function(e){return"[object Function]"===d.call(e)}(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:g,merge:function e(){var t={};function n(n,r){y(t[r])&&y(n)?t[r]=e(t[r],n):y(n)?t[r]=e({},n):p(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)g(arguments[r],n);return t},extend:function(e,t,n){return g(t,(function(t,r){e[r]=n&&"function"==typeof t?u(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}};function v(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var b=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(m.isURLSearchParams(t))r=t.toString();else{var o=[];m.forEach(t,(function(e,t){null!=e&&(m.isArray(e)?t+="[]":e=[e],m.forEach(e,(function(e){m.isDate(e)?e=e.toISOString():m.isObject(e)&&(e=JSON.stringify(e)),o.push(v(t)+"="+v(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},w={};function x(){this.handlers=[]}x.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},x.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},x.prototype.forEach=function(e){m.forEach(this.handlers,(function(t){null!==t&&e(t)}))},w=x;var O,S,I=function(e,t){m.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},j=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},T=function(e,t,n,r,o){var i=new Error(e);return j(i,t,n,r,o)},A=m.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),m.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),m.isString(r)&&a.push("path="+r),m.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},N=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],C=m.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=m.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},E=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers,i=e.responseType;m.isFormData(r)&&delete o["Content-Type"];var a=new XMLHttpRequest;if(e.auth){var s=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(s+":"+c)}var l,u,d=(l=e.baseURL,u=e.url,l&&!function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}(u)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(l,u):u);function p(){if(a){var r="getAllResponseHeaders"in a?(s=a.getAllResponseHeaders(),d={},s?(m.forEach(s.split("\n"),(function(e){if(u=e.indexOf(":"),c=m.trim(e.substr(0,u)).toLowerCase(),l=m.trim(e.substr(u+1)),c){if(d[c]&&N.indexOf(c)>=0)return;d[c]="set-cookie"===c?(d[c]?d[c]:[]).concat([l]):d[c]?d[c]+", "+l:l}})),d):d):null,o={data:i&&"text"!==i&&"json"!==i?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:r,config:e,request:a};(function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(T("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)})(t,n,o),a=null}var s,c,l,u,d}if(a.open(e.method.toUpperCase(),b(d,e.params,e.paramsSerializer),!0),a.timeout=e.timeout,"onloadend"in a?a.onloadend=p:a.onreadystatechange=function(){a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))&&setTimeout(p)},a.onabort=function(){a&&(n(T("Request aborted",e,"ECONNABORTED",a)),a=null)},a.onerror=function(){n(T("Network Error",e,null,a)),a=null},a.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(T(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},m.isStandardBrowserEnv()){var f=(e.withCredentials||C(d))&&e.xsrfCookieName?A.read(e.xsrfCookieName):void 0;f&&(o[e.xsrfHeaderName]=f)}"setRequestHeader"in a&&m.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:a.setRequestHeader(t,e)})),m.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),i&&"json"!==i&&(a.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&a.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){a&&(a.abort(),n(e),a=null)})),r||(r=null),a.send(r)}))},R={},_=R={};function k(){throw new Error("setTimeout has not been defined")}function L(){throw new Error("clearTimeout has not been defined")}function D(e){if(O===setTimeout)return setTimeout(e,0);if((O===k||!O)&&setTimeout)return O=setTimeout,setTimeout(e,0);try{return O(e,0)}catch(t){try{return O.call(null,e,0)}catch(t){return O.call(this,e,0)}}}!function(){try{O="function"==typeof setTimeout?setTimeout:k}catch(e){O=k}try{S="function"==typeof clearTimeout?clearTimeout:L}catch(e){S=L}}();var P,M=[],F=!1,J=-1;function U(){F&&P&&(F=!1,P.length?M=P.concat(M):J=-1,M.length&&B())}function B(){if(!F){var e=D(U);F=!0;for(var t=M.length;t;){for(P=M,M=[];++J<t;)P&&P[J].run();J=-1,t=M.length}P=null,F=!1,function(e){if(S===clearTimeout)return clearTimeout(e);if((S===L||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(e);try{S(e)}catch(t){try{return S.call(null,e)}catch(t){return S.call(this,e)}}}(e)}}function V(e,t){this.fun=e,this.array=t}function q(){}_.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];M.push(new V(e,t)),1!==M.length||F||D(B)},V.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=q,_.addListener=q,_.once=q,_.off=q,_.removeListener=q,_.removeAllListeners=q,_.emit=q,_.prependListener=q,_.prependOnceListener=q,_.listeners=function(e){return[]},_.binding=function(e){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(e){throw new Error("process.chdir is not supported")},_.umask=function(){return 0};var H={};(function(e){(function(){"use strict";var t={"Content-Type":"application/x-www-form-urlencoded"};function n(e,t){!m.isUndefined(e)&&m.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r,o={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(r=E),r),transformRequest:[function(e,t){return I(t,"Accept"),I(t,"Content-Type"),m.isFormData(e)||m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)?e:m.isArrayBufferView(e)?e.buffer:m.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):m.isObject(e)||t&&"application/json"===t["Content-Type"]?(n(t,"application/json"),function(e,t,n){if(m.isString(e))try{return(0,JSON.parse)(e),m.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&m.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw j(i,this,"E_JSON_PARSE");throw i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};m.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),m.forEach(["post","put","patch"],(function(e){o.headers[e]=m.merge(t)})),H=o}).call(this)}).call(this,R);var z=function(e,t,n){var r=this||H;return m.forEach(n,(function(n){e=n.call(r,e,t)})),e},G=function(e){return!(!e||!e.__CANCEL__)};function $(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var W,Q=function(e){return $(e),e.headers=e.headers||{},e.data=z.call(e,e.data,e.headers,e.transformRequest),e.headers=m.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),m.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||H.adapter)(e).then((function(t){return $(e),t.data=z.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return G(t)||($(e),t&&t.response&&(t.response.data=z.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},K=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return m.isPlainObject(e)&&m.isPlainObject(t)?m.merge(e,t):m.isPlainObject(t)?m.merge({},t):m.isArray(t)?t.slice():t}function c(r){m.isUndefined(t[r])?m.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}m.forEach(r,(function(e){m.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),m.forEach(o,c),m.forEach(i,(function(r){m.isUndefined(t[r])?m.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),m.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var l=r.concat(o).concat(i).concat(a),u=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return m.forEach(u,c),n},X={version:"0.21.4"},Z={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Z[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Y={},ee=X.version.split(".");Z.transitional=function(e,t,n){var r=t&&function(e,t){for(var n=t?t.split("."):ee,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}(t);function o(e,t){return"[Axios v"+X.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Error(o(i," has been removed in "+t));return r&&!Y[i]&&(Y[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var te={},ne=(W={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:Z}).validators;function re(e){this.defaults=e,this.interceptors={request:new w,response:new w}}re.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=K(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&W.assertOptions(t,{silentJSONParsing:ne.transitional(ne.boolean,"1.0.0"),forcedJSONParsing:ne.transitional(ne.boolean,"1.0.0"),clarifyTimeoutError:ne.transitional(ne.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var a=[Q,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(i),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var s=e;n.length;){var c=n.shift(),l=n.shift();try{s=c(s)}catch(u){l(u);break}}try{o=Q(s)}catch(u){return Promise.reject(u)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},re.prototype.getUri=function(e){return e=K(this.defaults,e),b(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},m.forEach(["delete","get","head","options"],(function(e){re.prototype[e]=function(t,n){return this.request(K(n||{},{method:e,url:t,data:(n||{}).data}))}})),m.forEach(["post","put","patch"],(function(e){re.prototype[e]=function(t,n,r){return this.request(K(r||{},{method:e,url:t,data:n}))}})),te=re;var oe={};function ie(e){this.message=e}ie.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ie.prototype.__CANCEL__=!0,oe=ie;var ae;function se(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new oe(e),t(n.reason))}))}se.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},se.source=function(){var e;return{token:new se((function(t){e=t})),cancel:e}},ae=se;var ce={};function le(e){var t=new te(e),n=u(te.prototype.request,t);return m.extend(n,te.prototype,t),m.extend(n,t),n}var ue=le(H);ue.Axios=te,ue.create=function(e){return le(K(ue.defaults,e))},ue.Cancel=oe,ue.CancelToken=ae,ue.isCancel=G,ue.all=function(e){return Promise.all(e)},ue.spread=function(e){return function(t){return e.apply(null,t)}},ue.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},(ce=ue).default=ue;var de=ce,pe={};(function(e){(function(){var t=function(e){return e&&e.Math==Math&&e};pe=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var fe,he=function(e){try{return!!e()}catch(t){return!0}},ye=!he((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),ge=Function.prototype,me=ge.bind,ve=ge.call,be=ye&&me.bind(ve,ve),we=ye?function(e){return e&&be(e)}:function(e){return e&&function(){return ve.apply(e,arguments)}},xe=we({}.toString),Oe=we("".slice),Se=function(e){return Oe(xe(e),8,-1)},Ie=pe.Object,je=we("".split),Te=he((function(){return!Ie("z").propertyIsEnumerable(0)}))?function(e){return"String"==Se(e)?je(e,""):Ie(e)}:Ie,Ae=pe.TypeError,Ne=function(e){if(null==e)throw Ae("Can't call method on "+e);return e},Ce=function(e){return Te(Ne(e))},Ee=Object.defineProperty,Re=function(e,t){try{Ee(pe,e,{value:t,configurable:!0,writable:!0})}catch(n){pe[e]=t}return t},_e=pe["__core-js_shared__"]||Re("__core-js_shared__",{});(fe=function(e,t){return _e[e]||(_e[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ke,Le,De,Pe=pe.Object,Me=function(e){return Pe(Ne(e))},Fe=we({}.hasOwnProperty),Je=Object.hasOwn||function(e,t){return Fe(Me(e),t)},Ue=0,Be=Math.random(),Ve=we(1..toString),qe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ve(++Ue+Be,36)},He=function(e){return"function"==typeof e},ze=function(e,t){return arguments.length<2?(n=pe[e],He(n)?n:void 0):pe[e]&&pe[e][t];var n},Ge=ze("navigator","userAgent")||"",$e=pe.process,We=pe.Deno,Qe=$e&&$e.versions||We&&We.version,Ke=Qe&&Qe.v8;Ke&&(De=(Le=Ke.split("."))[0]>0&&Le[0]<4?1:+(Le[0]+Le[1])),!De&&Ge&&(!(Le=Ge.match(/Edge\/(\d+)/))||Le[1]>=74)&&(Le=Ge.match(/Chrome\/(\d+)/))&&(De=+Le[1]),ke=De;var Xe=!!Object.getOwnPropertySymbols&&!he((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ke&&ke<41})),Ze=Xe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ye=fe("wks"),et=pe.Symbol,tt=et&&et.for,nt=Ze?et:et&&et.withoutSetter||qe,rt=function(e){if(!Je(Ye,e)||!Xe&&"string"!=typeof Ye[e]){var t="Symbol."+e;Xe&&Je(et,e)?Ye[e]=et[e]:Ye[e]=Ze&&tt?tt(t):nt(t)}return Ye[e]},ot=function(e){return"object"==typeof e?null!==e:He(e)},it=pe.String,at=pe.TypeError,st=function(e){if(ot(e))return e;throw at(it(e)+" is not an object")},ct=!he((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),lt=ct&&he((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ut=pe.document,dt=ot(ut)&&ot(ut.createElement),pt=function(e){return dt?ut.createElement(e):{}},ft=!ct&&!he((function(){return 7!=Object.defineProperty(pt("div"),"a",{get:function(){return 7}}).a})),ht=Function.prototype.call,yt=ye?ht.bind(ht):function(){return ht.apply(ht,arguments)},gt=we({}.isPrototypeOf),mt=pe.Object,vt=Ze?function(e){return"symbol"==typeof e}:function(e){var t=ze("Symbol");return He(t)&&gt(t.prototype,mt(e))},bt=pe.String,wt=function(e){try{return bt(e)}catch(t){return"Object"}},xt=pe.TypeError,Ot=function(e){if(He(e))return e;throw xt(wt(e)+" is not a function")},St=function(e,t){var n=e[t];return null==n?void 0:Ot(n)},It=pe.TypeError,jt=pe.TypeError,Tt=rt("toPrimitive"),At=function(e,t){if(!ot(e)||vt(e))return e;var n,r=St(e,Tt);if(r){if(void 0===t&&(t="default"),n=yt(r,e,t),!ot(n)||vt(n))return n;throw jt("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&He(n=e.toString)&&!ot(r=yt(n,e)))return r;if(He(n=e.valueOf)&&!ot(r=yt(n,e)))return r;if("string"!==t&&He(n=e.toString)&&!ot(r=yt(n,e)))return r;throw It("Can't convert object to primitive value")}(e,t)},Nt=function(e){var t=At(e,"string");return vt(t)?t:t+""},Ct={},Et=pe.TypeError,Rt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor;Ct.f=ct?lt?function(e,t,n){if(st(e),t=Nt(t),st(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=_t(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Rt(e,t,n)}:Rt:function(e,t,n){if(st(e),t=Nt(t),st(n),ft)try{return Rt(e,t,n)}catch(r){}if("get"in n||"set"in n)throw Et("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var kt,Lt=Math.ceil,Dt=Math.floor,Pt=function(e){var t=+e;return t!=t||0===t?0:(t>0?Dt:Lt)(t)},Mt=Math.max,Ft=Math.min,Jt=function(e,t){var n=Pt(e);return n<0?Mt(n+t,0):Ft(n,t)},Ut=Math.min,Bt=function(e){return(t=e.length)>0?Ut(Pt(t),9007199254740991):0;var t},Vt={indexOf:(kt=!1,function(e,t,n){var r,o=Ce(e),i=Bt(o),a=Jt(n,i);if(kt&&t!=t){for(;i>a;)if((r=o[a++])!=r)return!0}else for(;i>a;a++)if((kt||a in o)&&o[a]===t)return kt||a||0;return!kt&&-1})},qt={},Ht=Vt.indexOf,zt=we([].push),Gt=function(e,t){var n,r=Ce(e),o=0,i=[];for(n in r)!Je(qt,n)&&Je(r,n)&&zt(i,n);for(;t.length>o;)Je(r,n=t[o++])&&(~Ht(i,n)||zt(i,n));return i},$t=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Wt=Object.keys||function(e){return Gt(e,$t)},Qt={};Qt.f=ct&&!lt?Object.defineProperties:function(e,t){st(e);for(var n,r=Ce(t),o=Wt(t),i=o.length,a=0;i>a;)Ct.f(e,n=o[a++],r[n]);return e};var Kt,Xt=ze("document","documentElement"),Zt=fe("keys"),Yt=function(e){return Zt[e]||(Zt[e]=qe(e))},en={},tn=Yt("IE_PROTO"),nn=function(){},rn=function(e){return"<script>"+e+"<\/script>"},on=function(e){e.write(rn("")),e.close();var t=e.parentWindow.Object;return e=null,t},an=function(){try{Kt=new ActiveXObject("htmlfile")}catch(r){}var e,t;an="undefined"!=typeof document?document.domain&&Kt?on(Kt):((t=pt("iframe")).style.display="none",Xt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(rn("document.F=Object")),e.close(),e.F):on(Kt);for(var n=$t.length;n--;)delete an.prototype[$t[n]];return an()};qt[tn]=!0,en=Object.create||function(e,t){var n;return null!==e?(nn.prototype=st(e),n=new nn,nn.prototype=null,n[tn]=e):n=an(),void 0===t?n:Qt.f(n,t)};var sn,cn=rt("unscopables"),ln=Array.prototype;null==ln[cn]&&Ct.f(ln,cn,{configurable:!0,value:en(null)}),sn=function(e){ln[cn][e]=!0};var un={},dn={},pn=we(Function.toString);He(_e.inspectSource)||(_e.inspectSource=function(e){return pn(e)}),dn=_e.inspectSource;var fn,hn,yn,gn=pe.WeakMap,mn=He(gn)&&/native code/.test(dn(gn)),vn=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},bn=ct?function(e,t,n){return Ct.f(e,t,vn(1,n))}:function(e,t,n){return e[t]=n,e},wn=pe.TypeError,xn=pe.WeakMap;if(mn||_e.state){var On=_e.state||(_e.state=new xn),Sn=we(On.get),In=we(On.has),jn=we(On.set);fn=function(e,t){if(In(On,e))throw new wn("Object already initialized");return t.facade=e,jn(On,e,t),t},hn=function(e){return Sn(On,e)||{}},yn=function(e){return In(On,e)}}else{var Tn=Yt("state");qt[Tn]=!0,fn=function(e,t){if(Je(e,Tn))throw new wn("Object already initialized");return t.facade=e,bn(e,Tn,t),t},hn=function(e){return Je(e,Tn)?e[Tn]:{}},yn=function(e){return Je(e,Tn)}}var An={set:fn,get:hn,enforce:function(e){return yn(e)?hn(e):fn(e,{})},getterFor:function(e){return function(t){var n;if(!ot(t)||(n=hn(t)).type!==e)throw wn("Incompatible receiver, "+e+" required");return n}}},Nn={},Cn={}.propertyIsEnumerable,En=Object.getOwnPropertyDescriptor,Rn=(En&&Cn.call({1:2},1),{}),_n=Object.getOwnPropertyDescriptor;Rn.f=ct?_n:function(e,t){if(e=Ce(e),t=Nt(t),ft)try{return _n(e,t)}catch(n){}if(Je(e,t))return vn(!yt(Nn.f,e,t),e[t])};var kn,Ln=Function.prototype,Dn=ct&&Object.getOwnPropertyDescriptor,Pn=Je(Ln,"name"),Mn={PROPER:Pn&&"something"===function(){}.name,CONFIGURABLE:Pn&&(!ct||ct&&Dn(Ln,"name").configurable)},Fn=Mn.CONFIGURABLE,Jn=An.get,Un=An.enforce,Bn=String(String).split("String");(kn=function(e,t,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:t;He(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Je(n,"name")||Fn&&n.name!==c)&&bn(n,"name",c),(o=Un(n)).source||(o.source=Bn.join("string"==typeof c?c:""))),e!==pe?(i?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:bn(e,t,n)):a?e[t]=n:Re(t,n)})(Function.prototype,"toString",(function(){return He(this)&&Jn(this).source||dn(this)}));var Vn={},qn=$t.concat("length","prototype");Vn.f=Object.getOwnPropertyNames||function(e){return Gt(e,qn)};var Hn={};Hn.f=Object.getOwnPropertySymbols;var zn,Gn,$n,Wn,Qn=we([].concat),Kn=ze("Reflect","ownKeys")||function(e){var t=Vn.f(st(e)),n=Hn.f;return n?Qn(t,n(e)):t},Xn=function(e,t,n){for(var r=Kn(t),o=Ct.f,i=Rn.f,a=0;a<r.length;a++){var s=r[a];Je(e,s)||n&&Je(n,s)||o(e,s,i(t,s))}},Zn=/#|\.prototype\./,Yn=function(e,t){var n=tr[er(e)];return n==rr||n!=nr&&(He(t)?he(t):!!t)},er=Yn.normalize=function(e){return String(e).replace(Zn,".").toLowerCase()},tr=Yn.data={},nr=Yn.NATIVE="N",rr=Yn.POLYFILL="P",or=Yn,ir=Rn.f,ar=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,l=e.stat;if(n=c?pe:l?pe[s]||Re(s,{}):(pe[s]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=ir(n,r))&&a.value:n[r],!or(c?r:s+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Xn(i,o)}(e.sham||o&&o.sham)&&bn(i,"sham",!0),kn(n,r,i,e)}},sr=!he((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),cr=Yt("IE_PROTO"),lr=pe.Object,ur=lr.prototype,dr=sr?lr.getPrototypeOf:function(e){var t=Me(e);if(Je(t,cr))return t[cr];var n=t.constructor;return He(n)&&t instanceof n?n.prototype:t instanceof lr?ur:null},pr=rt("iterator"),fr=!1;[].keys&&("next"in(Wn=[].keys())?($n=dr(dr(Wn)))!==Object.prototype&&(Gn=$n):fr=!0),!(null!=Gn&&!he((function(){var e={};return Gn[pr].call(e)!==e})))&&(Gn={}),He(Gn[pr])||kn(Gn,pr,(function(){return this})),zn={IteratorPrototype:Gn,BUGGY_SAFARI_ITERATORS:fr};var hr=Ct.f,yr=rt("toStringTag"),gr=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Je(e,yr)&&hr(e,yr,{configurable:!0,value:t})},mr=zn.IteratorPrototype,vr=function(){return this},br=pe.String,wr=pe.TypeError,xr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=we(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return st(n),function(e){if("object"==typeof e||He(e))return e;throw wr("Can't set "+br(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Or=Mn.PROPER,Sr=Mn.CONFIGURABLE,Ir=zn.IteratorPrototype,jr=zn.BUGGY_SAFARI_ITERATORS,Tr=rt("iterator"),Ar=function(){return this},Nr=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=en(mr,{next:vn(+!r,n)}),gr(e,o,!1),un[o]=vr}(n,t,r);var s,c,l,u=function(e){if(e===o&&y)return y;if(!jr&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[Tr]||f["@@iterator"]||o&&f[o],y=!jr&&h||u(o),g="Array"==t&&f.entries||h;if(g&&(s=dr(g.call(new e)))!==Object.prototype&&s.next&&(dr(s)===Ir||(xr?xr(s,Ir):He(s[Tr])||kn(s,Tr,Ar)),gr(s,d,!0)),Or&&"values"==o&&h&&"values"!==h.name&&(Sr?bn(f,"name","values"):(p=!0,y=function(){return yt(h,this)})),o)if(c={values:u("values"),keys:i?y:u("keys"),entries:u("entries")},a)for(l in c)!jr&&!p&&l in f||kn(f,l,c[l]);else ar({target:t,proto:!0,forced:jr||p},c);return f[Tr]===y||kn(f,Tr,y,{name:o}),un[t]=y,c},Cr=Ct.f,Er=An.set,Rr=An.getterFor("Array Iterator"),_r=Nr(Array,"Array",(function(e,t){Er(this,{type:"Array Iterator",target:Ce(e),index:0,kind:t})}),(function(){var e=Rr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),kr=un.Arguments=un.Array;if(sn("keys"),sn("values"),sn("entries"),ct&&"values"!==kr.name)try{Cr(kr,"name",{value:"values"})}catch(qc){}var Lr=function(e,t,n){var r=Nt(t);r in e?Ct.f(e,r,vn(0,n)):e[r]=n},Dr=pe.Array,Pr=Math.max,Mr={},Fr=Vn.f,Jr="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Mr.f=function(e){return Jr&&"Window"==Se(e)?function(e){try{return Fr(e)}catch(qc){return function(e,t,n){for(var r=Bt(e),o=Jt(t,r),i=Jt(void 0===n?r:n,r),a=Dr(Pr(i-o,0)),s=0;o<i;o++,s++)Lr(a,s,e[o]);return a.length=s,a}(Jr)}}(e):Fr(Ce(e))};var Ur,Br=he((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),Vr=Object.isExtensible,qr=he((function(){Vr(1)}))||Br?function(e){return!!ot(e)&&(!Br||"ArrayBuffer"!=Se(e))&&(!Vr||Vr(e))}:Vr,Hr=(he((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ct.f),zr=qe("meta"),Gr=0,$r=Ur={enable:function(){$r.enable=function(){},!0;var e=Vn.f,t=we([].splice),n={};n[zr]=1,e(n).length&&(Vn.f=function(n){for(var r=e(n),o=0,i=r.length;o<i;o++)if(r[o]===zr){t(r,o,1);break}return r},ar({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Mr.f}))},fastKey:function(e,t){if(!ot(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Je(e,zr)){if(!qr(e))return"F";if(!t)return"E";!function(e){Hr(e,zr,{value:{objectID:"O"+Gr++,weakData:{}}})}(e)}return e[zr].objectID}};qt[zr]=!0;var Wr,Qr=we(we.bind),Kr=function(e,t){return Ot(e),void 0===t?e:ye?Qr(e,t):function(){return e.apply(t,arguments)}},Xr=rt("iterator"),Zr=Array.prototype,Yr={};Yr[rt("toStringTag")]="z",Wr="[object z]"===String(Yr);var eo=rt("toStringTag"),to=pe.Object,no="Arguments"==Se(function(){return arguments}()),ro=Wr?Se:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(qc){}}(t=to(e),eo))?n:no?Se(t):"Object"==(r=Se(t))&&He(t.callee)?"Arguments":r},oo=rt("iterator"),io=function(e){if(null!=e)return St(e,oo)||St(e,"@@iterator")||un[ro(e)]},ao=pe.TypeError,so=function(e,t,n){var r,o;st(e);try{if(!(r=St(e,"return"))){if("throw"===t)throw n;return n}r=yt(r,e)}catch(qc){o=!0,r=qc}if("throw"===t)throw n;if(o)throw r;return st(r),n},co=pe.TypeError,lo=function(e,t){this.stopped=e,this.result=t},uo=lo.prototype,po=function(e,t,n){var r,o,i,a,s,c,l,u,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),y=Kr(t,d),g=function(e){return r&&so(r,"normal",e),new lo(!0,e)},m=function(e){return p?(st(e),h?y(e[0],e[1],g):y(e[0],e[1])):h?y(e,g):y(e)};if(f)r=e;else{if(!(o=io(e)))throw co(wt(e)+" is not iterable");if(void 0!==(u=o)&&(un.Array===u||Zr[Xr]===u)){for(i=0,a=Bt(e);a>i;i++)if((s=m(e[i]))&&gt(uo,s))return s;return new lo(!1)}r=function(e,t){var n=arguments.length<2?io(e):t;if(Ot(n))return st(yt(n,e));throw ao(wt(e)+" is not iterable")}(e,o)}for(c=r.next;!(l=yt(c,r)).done;){try{s=m(l.value)}catch(qc){so(r,"throw",qc)}if("object"==typeof s&&s&&gt(uo,s))return s}return new lo(!1)},fo=pe.TypeError,ho=function(e,t){if(gt(t,e))return e;throw fo("Incorrect invocation")},yo=rt("iterator"),go=!1;try{var mo=0,vo={next:function(){return{done:!!mo++}},return:function(){go=!0}};vo[yo]=function(){return this},Array.from(vo,(function(){throw 2}))}catch(qc){}var bo=function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",a=pe[e],s=a&&a.prototype,c=a,l={},u=function(e){var t=we(s[e]);kn(s,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!ot(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return o&&!ot(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!ot(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(or(e,!He(a)||!(o||s.forEach&&!he((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,i),Ur.enable();else if(or(e,!0)){var d=new c,p=d[i](o?{}:-0,1)!=d,f=he((function(){d.has(1)})),h=function(e,t){if(!t&&!go)return!1;var n=!1;try{var r={};r[yo]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(qc){}return n}((function(e){new a(e)})),y=!o&&he((function(){for(var e=new a,t=5;t--;)e[i](t,t);return!e.has(-0)}));h||((c=t((function(e,t){ho(e,s);var n=function(e,t,n){var r,o;return xr&&He(r=t.constructor)&&r!==n&&ot(o=r.prototype)&&o!==n.prototype&&xr(e,o),e}(new a,e,c);return null!=t&&po(t,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=s,s.constructor=c),(f||y)&&(u("delete"),u("has"),r&&u("get")),(y||p)&&u(i),o&&s.clear&&delete s.clear}return l[e]=c,ar({global:!0,forced:c!=a},l),gr(c,e),o||n.setStrong(c,e,r),c},wo=function(e,t,n){for(var r in t)kn(e,r,t[r],n);return e},xo=rt("species"),Oo=Ct.f,So=Ur.fastKey,Io=An.set,jo=An.getterFor,To={getConstructor:function(e,t,n,r){var o=e((function(e,o){ho(e,i),Io(e,{type:t,index:en(null),first:void 0,last:void 0,size:0}),ct||(e.size=0),null!=o&&po(o,e[r],{that:e,AS_ENTRIES:n})})),i=o.prototype,a=jo(t),s=function(e,t,n){var r,o,i=a(e),s=c(e,t);return s?s.value=n:(i.last=s={index:o=So(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=s),r&&(r.next=s),ct?i.size++:e.size++,"F"!==o&&(i.index[o]=s)),e},c=function(e,t){var n,r=a(e),o=So(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return wo(i,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,ct?e.size=0:this.size=0},delete:function(e){var t=a(this),n=c(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),ct?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=a(this),r=Kr(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),wo(i,n?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),ct&&Oo(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=jo(t),i=jo(r);Nr(e,t,(function(e,t){Io(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=ze(e),n=Ct.f;ct&&t&&!t[xo]&&n(t,xo,{configurable:!0,get:function(){return this}})}(t)}};bo("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),To);var Ao=Wr?{}.toString:function(){return"[object "+ro(this)+"]"};Wr||kn(Object.prototype,"toString",Ao,{unsafe:!0});var No,Co=pe.String,Eo=function(e){if("Symbol"===ro(e))throw TypeError("Cannot convert a Symbol value to a string");return Co(e)},Ro=we("".charAt),_o=we("".charCodeAt),ko=we("".slice),Lo={charAt:(No=!0,function(e,t){var n,r,o=Eo(Ne(e)),i=Pt(t),a=o.length;return i<0||i>=a?No?"":void 0:(n=_o(o,i))<55296||n>56319||i+1===a||(r=_o(o,i+1))<56320||r>57343?No?Ro(o,i):n:No?ko(o,i,i+2):r-56320+(n-55296<<10)+65536})}.charAt,Do=An.set,Po=An.getterFor("String Iterator");Nr(String,"String",(function(e){Do(this,{type:"String Iterator",string:Eo(e),index:0})}),(function(){var e,t=Po(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Lo(n,r),t.index+=e.length,{value:e,done:!1})}));var Mo=pe,Fo=Mo.Map,Jo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Uo=pt("span").classList,Bo=Uo&&Uo.constructor&&Uo.constructor.prototype,Vo=Bo===Object.prototype?void 0:Bo,qo=rt("iterator"),Ho=rt("toStringTag"),zo=_r.values,Go=function(e,t){if(e){if(e[qo]!==zo)try{bn(e,qo,zo)}catch(qc){e[qo]=zo}if(e[Ho]||bn(e,Ho,t),Jo[t])for(var n in _r)if(e[n]!==_r[n])try{bn(e,n,_r[n])}catch(qc){e[n]=_r[n]}}};for(var $o in Jo)Go(pe[$o]&&pe[$o].prototype,$o);Go(Vo,"DOMTokenList");ar({target:"Object",stat:!0},{fromEntries:function(e){var t={};return po(e,(function(e,n){Lr(t,e,n)}),{AS_ENTRIES:!0}),t}});var Wo={};function Qo(e,t){return Object.freeze(Object.fromEntries(t.map(t=>[t,e+":"+t])))}Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.TermTypeIRI=Wo.TermTypeLabel=Wo._DC=Wo._SCHEMA=Wo._SOA=Wo._RDFS=Wo.NsUrl=void 0,Wo.NsUrl={xsd:"http://www.w3.org/2001/XMLSchema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",dcterms:"http://purl.org/dc/terms/",soa:"http://schema-org-adapter.at/vocabTerms/",ds:"https://vocab.sti2.at/ds/"},Qo("rdf",["Property"]),Wo._RDFS=Qo("rdfs",["Class","subClassOf","subPropertyOf","label","comment"]),Wo._SOA=Qo("soa",["EnumerationMember","superClassOf","superPropertyOf","hasProperty","isRangeOf","hasEnumerationMember","enumerationDomainIncludes"]),Wo._SCHEMA=Qo("schema",["DataType","Enumeration","isPartOf","domainIncludes","rangeIncludes","supersededBy","inverseOf","source","category"]),Wo._DC=Qo("dcterms",["source"]),Qo("xsd",["string","decimal","integer","float","double","boolean","date","time","dateTime","anyURI"]),Wo.TermTypeLabel={class:"Class",property:"Property",enumeration:"Enumeration",enumerationMember:"EnumerationMember",dataType:"DataType"},Wo.TermTypeIRI={class:"rdfs:Class",property:"rdf:Property",enumeration:"schema:Enumeration",enumerationMember:"soa:EnumerationMember",dataType:"schema:DataType"};var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.Term=void 0;const Xo=c({});Ko.Term=class{constructor(e,t){this.IRI=e,this.graph=t}getIRI(e=!1){return e?this.IRI:(0,Xo.toAbsoluteIRI)(this.IRI,this.graph.context)}getTermTypeLabel(){return this.termTypeLabel}getTermTypeIRI(){return this.termTypeIRI}getVocabURLs(){const e=this.getTermObj();return(0,Xo.isNil)(e.vocabURLs)?null:e.vocabURLs}getVocabulary(){const e=this.getTermObj();return(0,Xo.isNil)(e[Wo._SCHEMA.isPartOf])?null:e[Wo._SCHEMA.isPartOf]}getSource(){const e=this.getTermObj();return(0,Xo.isNil)(e[Wo._DC.source])?(0,Xo.isNil)(e[Wo._SCHEMA.source])?null:e[Wo._SCHEMA.source]:e[Wo._DC.source]}isSupersededBy(){const e=this.getTermObj();return(0,Xo.isString)(e[Wo._SCHEMA.supersededBy])?e[Wo._SCHEMA.supersededBy]:null}getName(e="en"){const t=this.getTermObj()[Wo._RDFS.label];return(0,Xo.isNil)(t)||(0,Xo.isNil)(t[e])?null:t[e]}getDescription(e="en"){const t=this.getTermObj()[Wo._RDFS.comment];return(0,Xo.isNil)(t)||(0,Xo.isNil)(t[e])?null:t[e]}toString(){return JSON.stringify(this.toJSON(),null,2)}toJSON(){return{id:this.getIRI(!0),IRI:this.getIRI(),typeLabel:this.getTermTypeLabel(),typeIRI:this.getTermTypeIRI(),vocabURLs:this.getVocabURLs(),vocabulary:this.getVocabulary(),source:this.getSource(),supersededBy:this.isSupersededBy(),name:this.getName(),description:this.getDescription()}}};var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.inferRangeOf=Zo.inferSubProperties=Zo.inferSuperProperties=Zo.inferSubDataTypes=Zo.inferSuperDataTypes=Zo.inferSubClasses=Zo.inferSuperClasses=Zo.inferPropertiesFromSuperClasses=Zo.applyFilter=void 0;const Yo=c({});function ei(e,t){let n=[];const r=t.classes[e]||t.enumerations[e];if(r){n.push(...r[Wo._RDFS.subClassOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.classes[n]||t.enumerations[n];e&&r.push(...e[Wo._RDFS.subClassOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n}function ti(e,t){let n=[];const r=t.dataTypes[e];if(r){n.push(...r[Wo._RDFS.subClassOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.dataTypes[n];e&&r.push(...e[Wo._RDFS.subClassOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n}Zo.applyFilter=function(e){const{data:t,filter:n,graph:r}=e;if(!Array.isArray(t)||0===t.length||!n||0===Object.keys(n).length)return t;const o=(0,Yo.uniquifyArray)(t),i=[],a=r.context;let s;if(n.fromVocabulary){s=(0,Yo.toArray)(n.fromVocabulary);for(let e=0;e<s.length;e++)for(let t=0;t<Object.keys(a).length;t++)if(a[Object.keys(a)[t]]===s[e]){s[e]=Object.keys(a)[t];break}}for(let c=0;c<o.length;c++){const e=r.getTerm(o[c]);if(e){if(void 0!==n.isSuperseded){if(!n.isSuperseded&&null!=e.isSupersededBy())continue;if(n.isSuperseded&&null==e.isSupersededBy())continue}if(s){let t=!1;for(let n=0;n<s.length;n++)if(e.getIRI(!0).startsWith(s[n])){t=!0;break}if(!t)continue}if(n.termType){const t=(0,Yo.toArray)(n.termType),r=t.find(e=>!Object.values(Wo.TermTypeLabel).includes(e));if(r)throw new Error("Invalid filter.termType "+r);if(!t.find(t=>t===e.getTermTypeLabel()))continue}i.push(o[c])}}return i},Zo.inferPropertiesFromSuperClasses=function e(t,n){const r=[];for(const o of t){const t=n.classes[o]||n.enumerations[o];t&&(r.push(...t[Wo._SOA.hasProperty]),0!==t[Wo._RDFS.subClassOf].length&&r.push(...e(t[Wo._RDFS.subClassOf],n)))}return(0,Yo.uniquifyArray)(r)},Zo.inferSuperClasses=ei,Zo.inferSubClasses=function(e,t){let n=[];const r=t.classes[e]||t.enumerations[e];if(r){n.push(...r[Wo._SOA.superClassOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.classes[n]||t.enumerations[n];e&&r.push(...e[Wo._SOA.superClassOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n},Zo.inferSuperDataTypes=ti,Zo.inferSubDataTypes=function(e,t){let n=[];const r=t.dataTypes[e];if(r){n.push(...r[Wo._SOA.superClassOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.dataTypes[n];e&&r.push(...e[Wo._SOA.superClassOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n},Zo.inferSuperProperties=function(e,t){let n=[];const r=t.properties[e];if(r){n.push(...r[Wo._RDFS.subPropertyOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.properties[n];e&&r.push(...e[Wo._RDFS.subPropertyOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n},Zo.inferSubProperties=function(e,t){let n=[];const r=t.properties[e];if(r){n.push(...r[Wo._SOA.superPropertyOf]);let e=(0,Yo.cloneJson)(n);do{let r=[];for(const n of e){const e=t.properties[n];e&&r.push(...e[Wo._SOA.superPropertyOf])}r=(0,Yo.uniquifyArray)(r),e=(0,Yo.cloneJson)(r),n.push(...r)}while(0!==e.length);n=(0,Yo.uniquifyArray)(n)}return n},Zo.inferRangeOf=function(e,t){const n=t.classes[e]||t.enumerations[e],r=[];if(n){r.push(...n[Wo._SOA.isRangeOf]);const o=ei(e,t);for(const e of o){const n=t.classes[e]||t.enumerations[e];n&&r.push(...n[Wo._SOA.isRangeOf])}}else{const n=t.dataTypes[e];if(n){r.push(...n[Wo._SOA.isRangeOf]);const o=ti(e,t);for(const e of o){const n=t.dataTypes[e];n&&r.push(...n[Wo._SOA.isRangeOf])}}}return(0,Yo.uniquifyArray)(r)};var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.Class=void 0,ni.Class=class extends Ko.Term{constructor(e,t){super(e,t),this.termTypeLabel=Wo.TermTypeLabel.class,this.termTypeIRI=Wo.TermTypeIRI.class}getTermObj(){return this.graph.classes[this.IRI]}getProperties(e=!0,t){const n=this.getTermObj(),r=[];return r.push(...n[Wo._SOA.hasProperty]),e&&r.push(...(0,Zo.inferPropertiesFromSuperClasses)(n[Wo._RDFS.subClassOf],this.graph)),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getSuperClasses(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSuperClasses)(this.IRI,this.graph)):r.push(...n[Wo._RDFS.subClassOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getSubClasses(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSubClasses)(this.IRI,this.graph)):r.push(...n[Wo._SOA.superClassOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}isRangeOf(e=!0,t){const n=[];return e?n.push(...(0,Zo.inferRangeOf)(this.IRI,this.graph)):n.push(...this.getTermObj()[Wo._SOA.isRangeOf]),(0,Zo.applyFilter)({data:n,filter:t,graph:this.graph})}toString(e=!0,t){return JSON.stringify(this.toJSON(e,t),null,2)}toJSON(e=!0,t){const n=super.toJSON();return n.superClasses=this.getSuperClasses(e,t),n.subClasses=this.getSubClasses(e,t),n.properties=this.getProperties(e,t),n.rangeOf=this.isRangeOf(e,t),n}};var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.Property=void 0,ri.Property=class extends Ko.Term{constructor(e,t){super(e,t),this.termTypeLabel=Wo.TermTypeLabel.property,this.termTypeIRI=Wo.TermTypeIRI.property}getTermObj(){return this.graph.properties[this.IRI]}getRanges(e=!0,t){const n=this.getTermObj(),r=[];if(r.push(...n[Wo._SCHEMA.rangeIncludes]),e){for(const e of r)r.push(...(0,Zo.inferSubDataTypes)(e,this.graph));for(const e of r)r.push(...(0,Zo.inferSubClasses)(e,this.graph))}return(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getDomains(e=!0,t){const n=this.getTermObj(),r=[];if(r.push(...n[Wo._SCHEMA.domainIncludes]),e){const e=[];for(const t of r)e.push(...(0,Zo.inferSubClasses)(t,this.graph));r.push(...e)}return(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getSuperProperties(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSuperProperties)(this.IRI,this.graph)):r.push(...n[Wo._RDFS.subPropertyOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getSubProperties(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSubProperties)(this.IRI,this.graph)):r.push(...n[Wo._SOA.superPropertyOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getInverseOf(){return this.getTermObj()[Wo._SCHEMA.inverseOf]}toString(e=!0,t){return JSON.stringify(this.toJSON(e,t),null,2)}toJSON(e=!0,t){const n=super.toJSON();return n.ranges=this.getRanges(e,t),n.domains=this.getDomains(e,t),n.superProperties=this.getSuperProperties(e,t),n.subProperties=this.getSubProperties(e,t),n.inverseOf=this.getInverseOf(),n}};var oi={};Object.defineProperty(oi,"__esModule",{value:!0}),oi.Enumeration=void 0;const ii=c({});oi.Enumeration=class extends ni.Class{constructor(e,t){super(e,t),this.termTypeLabel=Wo.TermTypeLabel.enumeration,this.termTypeIRI=Wo.TermTypeIRI.enumeration}getTermObj(){return this.graph.enumerations[this.IRI]}getEnumerationMembers(e=!0,t){const n=[];if(n.push(...this.getTermObj()[Wo._SOA.hasEnumerationMember]),e){const e=this.getSubClasses(!0);for(const t of e){const e=this.graph.enumerations[t];(0,ii.isNil)(e)||n.push(...e[Wo._SOA.hasEnumerationMember])}}return(0,Zo.applyFilter)({data:n,filter:t,graph:this.graph})}toString(e=!0,t){return JSON.stringify(this.toJSON(e,t),null,2)}toJSON(e=!0,t){const n=super.toJSON(e,t);return n.enumerationMembers=this.getEnumerationMembers(e,t),n}};var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.EnumerationMember=void 0;const si=c({});ai.EnumerationMember=class extends Ko.Term{constructor(e,t){super(e,t),this.termTypeLabel=Wo.TermTypeLabel.enumerationMember,this.termTypeIRI=Wo.TermTypeIRI.enumerationMember}getTermObj(){return this.graph.enumerationMembers[this.IRI]}getDomainEnumerations(e=!0,t){const n=this.getTermObj();let r=[];if(r.push(...n[Wo._SOA.enumerationDomainIncludes]),e){const e=(0,si.cloneJson)(r);for(const t of e)r.push(...(0,Zo.inferSuperClasses)(t,this.graph));r=(0,Zo.applyFilter)({data:r,filter:{termType:Wo.TermTypeLabel.enumeration},graph:this.graph})}return(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}toString(e=!0,t){return JSON.stringify(this.toJSON(e,t),null,2)}toJSON(e=!0,t){const n=super.toJSON();return n.domainEnumerations=this.getDomainEnumerations(e,t),n}};var ci={};Object.defineProperty(ci,"__esModule",{value:!0}),ci.DataType=void 0,ci.DataType=class extends Ko.Term{constructor(e,t){super(e,t),this.termTypeLabel=Wo.TermTypeLabel.dataType,this.termTypeIRI=Wo.TermTypeIRI.dataType}getTermObj(){return this.graph.dataTypes[this.IRI]}getSuperDataTypes(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSuperDataTypes)(this.IRI,this.graph)):r.push(...n[Wo._RDFS.subClassOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}getSubDataTypes(e=!0,t){const n=this.getTermObj(),r=[];return e?r.push(...(0,Zo.inferSubDataTypes)(this.IRI,this.graph)):r.push(...n[Wo._SOA.superClassOf]),(0,Zo.applyFilter)({data:r,filter:t,graph:this.graph})}isRangeOf(e=!0,t){const n=[];return e?n.push(...(0,Zo.inferRangeOf)(this.IRI,this.graph)):n.push(...this.getTermObj()[Wo._SOA.isRangeOf]),(0,Zo.applyFilter)({data:n,filter:t,graph:this.graph})}toJSON(e=!0,t){const n=super.toJSON();return n.superDataTypes=this.getSuperDataTypes(e,t),n.subDataTypes=this.getSubDataTypes(e,t),n.rangeOf=this.isRangeOf(e,t),n}toString(e=!0,t){return JSON.stringify(this.toJSON(e,t),null,2)}};var li=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}};(function(e,t,n){(function(){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,c=1,l={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,r(c),c++},p.clearImmediate=f}function f(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this)}).call(this,R,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},s({}).clearImmediate);const ui=self.crypto||self.msCrypto;var di=class{constructor(e){if(!ui||!ui.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await ui.subtle.digest(this.algorithm,e));let n="";for(let r=0;r<t.length;++r)n+=t[r].toString(16).padStart(2,"0");return n}},pi=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,o=0;const i=e.length;for(let a=0;a<i;++a){const n=e[a],s=t.get(n);(null===r||n>r)&&(s&&a>0&&n>e[a-1]||!s&&a<i-1&&n>e[a+1])&&(r=n,o=a)}if(null===r)this.done=!0;else{const n=t.get(r)?o-1:o+1;e[o]=e[n],e[n]=r;for(const o of e)o>r&&t.set(o,!t.get(o))}return n}},fi={};const hi="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",yi="http://www.w3.org/2001/XMLSchema#string",gi={};gi.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,gi.empty=new RegExp("^[ \\t]*$"),gi.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),fi=class e{static parse(e){const t=[],n={},r=e.split(gi.eoln);let o=0;for(const s of r){if(o++,gi.empty.test(s))continue;const e=s.match(gi.quad);if(null===e)throw new Error("N-Quads parse error on line "+o+".");const r={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?r.subject={termType:"NamedNode",value:e[1]}:r.subject={termType:"BlankNode",value:e[2]},r.predicate={termType:"NamedNode",value:e[3]},void 0!==e[4]?r.object={termType:"NamedNode",value:e[4]}:void 0!==e[5]?r.object={termType:"BlankNode",value:e[5]}:(r.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==e[7]?r.object.datatype.value=e[7]:void 0!==e[8]?(r.object.datatype.value=hi,r.object.language=e[8]):r.object.datatype.value=yi,r.object.value=e[6].replace(vi,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),void 0!==e[9]?r.graph={termType:"NamedNode",value:e[9]}:void 0!==e[10]?r.graph={termType:"BlankNode",value:e[10]}:r.graph={termType:"DefaultGraph",value:""},r.graph.value in n){let e=!0;const o=n[r.graph.value];for(const t of o)if(a=r,(i=t).subject.termType===a.subject.termType&&i.object.termType===a.object.termType&&i.subject.value===a.subject.value&&i.predicate.value===a.predicate.value&&i.object.value===a.object.value&&("Literal"!==i.object.termType||i.object.datatype.termType===a.object.datatype.termType&&i.object.language===a.object.language&&i.object.datatype.value===a.object.datatype.value)){e=!1;break}e&&(o.push(r),t.push(r))}else n[r.graph.value]=[r],t.push(r)}var i,a;return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,n=e.predicate,r=e.object,o=e.graph;let i="";return"NamedNode"===t.termType?i+=`<${t.value}>`:i+=""+t.value,i+=` <${n.value}> `,"NamedNode"===r.termType?i+=`<${r.value}>`:"BlankNode"===r.termType?i+=r.value:(i+=`"${function(e){return e.replace(mi,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(r.value)}"`,r.datatype.value===hi?r.language&&(i+="@"+r.language):r.datatype.value!==yi&&(i+=`^^<${r.datatype.value}>`)),"NamedNode"===o.termType?i+=` <${o.value}>`:"BlankNode"===o.termType&&(i+=" "+o.value),i+" .\n"}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const r in e)e[r].forEach(e=>{const o={};for(const t in e){const r=e[t],i={termType:n[r.type],value:r.value};"Literal"===i.termType&&(i.datatype={termType:"NamedNode"},"datatype"in r&&(i.datatype.value=r.datatype),"language"in r?("datatype"in r||(i.datatype.value=hi),i.language=r.language):"datatype"in r||(i.datatype.value=yi)),o[t]=i}o.graph="@default"===r?{termType:"DefaultGraph",value:""}:{termType:r.startsWith("_:")?"BlankNode":"NamedNode",value:r},t.push(o)});return t}};const mi=/["\\\n\r]/g,vi=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;var bi={};(function(e){(function(){"use strict";function t(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}bi=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new li("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const n=new Map,r=[...this.blankNodeInfo.keys()];let o=0;for(const t of r)++o%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:t,hashToBlankNodes:n});const i=[...n.keys()].sort(),a=[];for(const t of i){const e=n.get(t);if(e.length>1){a.push(e);continue}const r=e[0];this.canonicalIssuer.getId(r)}for(const c of a){const e=[];for(const t of c){if(this.canonicalIssuer.hasId(t))continue;const n=new li("_:b");n.getId(t);const r=await this.hashNDegreeQuads(t,n);e.push(r)}e.sort(t);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const s=[];for(const t of this.quads){const e={...t};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),s.push(fi.serializeQuad(e))}return s.sort(),s.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const i of r){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(fi.serializeQuad(n))}t.sort();const o=new di(this.hashAlgorithm);for(const i of t)o.update(i);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=new di(this.hashAlgorithm);return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(o),i.digest()}async hashNDegreeQuads(e,t){const n=new di(this.hashAlgorithm),r=await this.createHashToRelated(e,t),o=[...r.keys()].sort();for(const i of o){n.update(i);let e,o="";const a=new pi(r.get(i));let s=0;for(;a.hasNext();){const n=a.next();++s%3==0&&await this._yield();let r=t.clone(),i="";const c=[];let l=!1;for(const e of n)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(r.hasId(e)||c.push(e),i+=r.getId(e)),0!==o.length&&i>o){l=!0;break}if(!l){for(const e of c){const t=await this.hashNDegreeQuads(e,r);if(i+=r.getId(e),i+=`<${t.hash}>`,r=t.issuer,0!==o.length&&i>o){l=!0;break}}l||(0===o.length||i<o)&&(o=i,e=r)}}n.update(o),t=e}return{hash:await n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const i of r)++o%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=await this.hashRelatedBlankNode(a,e,o,n),c=i.get(s);c?c.push(a):i.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(t=>e(t))}}}).call(this)}).call(this,s({}).setImmediate);var wi=class extends bi{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let o=0;for(const i of r){let r,a;if("BlankNode"===i.subject.termType&&i.subject.value!==e)a=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;a=i.object.value,r="r"}++o%100==0&&await this._yield();const s=await this.hashRelatedBlankNode(a,i,t,r),c=n.get(s);c?c.push(a):n.set(s,[a])}return n}};function xi(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}var Oi=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new li("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const a of e)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const a of n)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:t});const r=[...t.keys()].sort(),o=[];for(const a of r){const e=t.get(a);if(e.length>1){o.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of o){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new li("_:b");n.getId(t);const r=this.hashNDegreeQuads(t,n);e.push(r)}e.sort(xi);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const i=[];for(const a of this.quads){const e={...a};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),i.push(fi.serializeQuad(e))}return i.sort(),i.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const i of r){const n={subject:null,predicate:i.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,i.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(fi.serializeQuad(n))}t.sort();const o=new di(this.hashAlgorithm);for(const i of t)o.update(i);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const i=new di(this.hashAlgorithm);return i.update(r),"g"!==r&&i.update(this.getRelatedPredicate(t)),i.update(o),i.digest()}hashNDegreeQuads(e,t){const n=new di(this.hashAlgorithm),r=this.createHashToRelated(e,t),o=[...r.keys()].sort();for(const i of o){n.update(i);let e,o="";const a=new pi(r.get(i));for(;a.hasNext();){const n=a.next();let r=t.clone(),i="";const s=[];let c=!1;for(const e of n)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(r.hasId(e)||s.push(e),i+=r.getId(e)),0!==o.length&&i>o){c=!0;break}if(!c){for(const e of s){const t=this.hashNDegreeQuads(e,r);if(i+=r.getId(e),i+=`<${t.hash}>`,r=t.issuer,0!==o.length&&i>o){c=!0;break}}c||(0===o.length||i<o)&&(o=i,e=r)}}n.update(o),t=e}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:o,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=this.hashRelatedBlankNode(a,e,o,n),c=i.get(s);c?c.push(a):i.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}},Si=class extends Oi{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const o of r){let r,i;if("BlankNode"===o.subject.termType&&o.subject.value!==e)i=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;i=o.object.value,r="r"}const a=this.hashRelatedBlankNode(i,o,t,r),s=n.get(a);s?s.push(i):n.set(a,[i])}return n}},Ii={};let ji;try{ji=a({})}catch(Hc){}const Ti={};Ii=Ti,Ti.NQuads=fi,Ti.IdentifierIssuer=li,Ti._rdfCanonizeNative=function(e){return e&&(ji=e),ji},Ti.canonize=async function(e,t){if(Array.isArray(e)||(e=Ti.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!ji)throw new Error("rdf-canonize-native not available");return new Promise((n,r)=>ji.canonize(e,t,(e,t)=>e?r(e):n(t)))}if("URDNA2015"===t.algorithm)return new bi(t).main(e);if("URGNA2012"===t.algorithm)return new wi(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},Ti._canonizeSync=function(e,t){if(Array.isArray(e)||(e=Ti.NQuads.legacyDatasetToQuads(e)),t.useNative){if(ji)return ji.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new Oi(t).main(e);if("URGNA2012"===t.algorithm)return new Si(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};var Ai={};const Ni={};Ai=Ni,Ni.isArray=Array.isArray,Ni.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),Ni.isDouble=e=>Ni.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),Ni.isEmptyObject=e=>Ni.isObject(e)&&0===Object.keys(e).length,Ni.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),Ni.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),Ni.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),Ni.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),Ni.isUndefined=e=>void 0===e;var Ci={};const Ei={};Ci=Ei,Ei.isSubject=e=>!(!Ai.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),Ei.isSubjectReference=e=>Ai.isObject(e)&&1===Object.keys(e).length&&"@id"in e,Ei.isValue=e=>Ai.isObject(e)&&"@value"in e,Ei.isList=e=>Ai.isObject(e)&&"@list"in e,Ei.isGraph=e=>Ai.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,Ei.isSimpleGraph=e=>Ei.isGraph(e)&&!("@id"in e),Ei.isBlankNode=e=>!!Ai.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e));var Ri=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}},_i={};const ki=Ii.IdentifierIssuer,Li=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,Di=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Pi=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Mi="application/ld+json, application/json",Fi={};_i=Fi,Fi.IdentifierIssuer=ki,Fi.clone=function(e){if(e&&"object"==typeof e){let t;if(Ai.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=Fi.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,Fi.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(Fi.clone(n))}else if(Ai.isObject(e)){t={};for(const n in e)t[n]=Fi.clone(e[n])}else t=e.toString();return t}return e},Fi.asArray=function(e){return Array.isArray(e)?e:[e]},Fi.buildHeaders=(e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+Mi+'" is supported.');return Object.assign({Accept:Mi},e)},Fi.parseLinkHeader=e=>{const t={},n=e.match(Li);for(let r=0;r<n.length;++r){let e=n[r].match(Di);if(!e)continue;const o={target:e[1]},i=e[2];for(;e=Pi.exec(i);)o[e[1]]=void 0===e[2]?e[3]:e[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t},Fi.validateTypeValue=(e,t)=>{if(!(Ai.isString(e)||Ai.isArray(e)&&e.every(e=>Ai.isString(e)))){if(t&&Ai.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Fi.asArray(e["@default"]).every(e=>Ai.isString(e)))return}throw new Ri('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},Fi.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!Ai.isArray(n)||n.length>0}return!1},Fi.hasValue=(e,t,n)=>{if(Fi.hasProperty(e,t)){let r=e[t];const o=Ci.isList(r);if(Ai.isArray(r)||o){o&&(r=r["@list"]);for(let e=0;e<r.length;++e)if(Fi.compareValues(n,r[e]))return!0}else if(!Ai.isArray(n))return Fi.compareValues(n,r)}return!1},Fi.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(Ai.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let o=0;o<n.length;++o)Fi.addValue(e,t,n[o],r)}else if(e.hasOwnProperty(t)){const o=!r.allowDuplicate&&Fi.hasValue(e,t,n);Ai.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},Fi.getValues=(e,t)=>[].concat(e[t]||[]),Fi.removeProperty=(e,t)=>{delete e[t]},Fi.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const o=Fi.getValues(e,t).filter(e=>!Fi.compareValues(e,n));0===o.length?Fi.removeProperty(e,t):1!==o.length||r.propertyIsArray?e[t]=o:e[t]=o[0]},Fi.relabelBlankNodes=(e,t)=>function e(t,n){if(Ai.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(Ci.isList(n))n["@list"]=e(t,n["@list"]);else if(Ai.isObject(n)){Ci.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));const r=Object.keys(n).sort();for(let o=0;o<r.length;++o){const i=r[o];"@id"!==i&&(n[i]=e(t,n[i]))}}return n}((t=t||{}).issuer||new ki("_:b"),e),Fi.compareValues=(e,t)=>e===t||!(!Ci.isValue(e)||!Ci.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(Ai.isObject(e)&&"@id"in e&&Ai.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],Fi.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;var Ji={};function Ui(e){var t=this;if(t instanceof Ui||(t=new Ui),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Bi(e,t,n){var r=t===e.head?new Hi(n,null,t,e):new Hi(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function Vi(e,t){e.tail=new Hi(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function qi(e,t){e.head=new Hi(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Hi(e,t,n,r){if(!(this instanceof Hi))return new Hi(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}Ji=Ui,Ui.Node=Hi,Ui.create=Ui,Ui.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Ui.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Ui.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Ui.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Vi(this,arguments[e]);return this.length},Ui.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)qi(this,arguments[e]);return this.length},Ui.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Ui.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Ui.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},Ui.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},Ui.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},Ui.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},Ui.prototype.map=function(e,t){t=t||this;for(var n=new Ui,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},Ui.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Ui,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},Ui.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},Ui.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},Ui.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},Ui.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},Ui.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Ui;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},Ui.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Ui;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},Ui.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=2;n<arguments.length;n++)r=Bi(this,r,arguments[n]);return o},Ui.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{!function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}(Ui)}catch(zc){}const zi=Symbol("max"),Gi=Symbol("length"),$i=Symbol("lengthCalculator"),Wi=Symbol("allowStale"),Qi=Symbol("maxAge"),Ki=Symbol("dispose"),Xi=Symbol("noDisposeOnSet"),Zi=Symbol("lruList"),Yi=Symbol("cache"),ea=Symbol("updateAgeOnGet"),ta=()=>1,na=(e,t,n)=>{const r=e[Yi].get(t);if(r){const t=r.value;if(ra(e,t)){if(ia(e,r),!e[Wi])return}else n&&(e[ea]&&(r.value.now=Date.now()),e[Zi].unshiftNode(r));return t.value}},ra=(e,t)=>{if(!t||!t.maxAge&&!e[Qi])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Qi]&&n>e[Qi]},oa=e=>{if(e[Gi]>e[zi])for(let t=e[Zi].tail;e[Gi]>e[zi]&&null!==t;){const n=t.prev;ia(e,t),t=n}},ia=(e,t)=>{if(t){const n=t.value;e[Ki]&&e[Ki](n.key,n.value),e[Gi]-=n.length,e[Yi].delete(n.key),e[Zi].removeNode(t)}};class aa{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const sa=(e,t,n,r)=>{let o=n.value;ra(e,o)&&(ia(e,n),e[Wi]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};var ca=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[zi]=e.max||1/0;const t=e.length||ta;if(this[$i]="function"!=typeof t?ta:t,this[Wi]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[Qi]=e.maxAge||0,this[Ki]=e.dispose,this[Xi]=e.noDisposeOnSet||!1,this[ea]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[zi]=e||1/0,oa(this)}get max(){return this[zi]}set allowStale(e){this[Wi]=!!e}get allowStale(){return this[Wi]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[Qi]=e,oa(this)}get maxAge(){return this[Qi]}set lengthCalculator(e){"function"!=typeof e&&(e=ta),e!==this[$i]&&(this[$i]=e,this[Gi]=0,this[Zi].forEach(e=>{e.length=this[$i](e.value,e.key),this[Gi]+=e.length})),oa(this)}get lengthCalculator(){return this[$i]}get length(){return this[Gi]}get itemCount(){return this[Zi].length}rforEach(e,t){t=t||this;for(let n=this[Zi].tail;null!==n;){const r=n.prev;sa(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[Zi].head;null!==n;){const r=n.next;sa(this,e,n,t),n=r}}keys(){return this[Zi].toArray().map(e=>e.key)}values(){return this[Zi].toArray().map(e=>e.value)}reset(){this[Ki]&&this[Zi]&&this[Zi].length&&this[Zi].forEach(e=>this[Ki](e.key,e.value)),this[Yi]=new Map,this[Zi]=new Ji,this[Gi]=0}dump(){return this[Zi].map(e=>!ra(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Zi]}set(e,t,n){if((n=n||this[Qi])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,o=this[$i](t,e);if(this[Yi].has(e)){if(o>this[zi])return ia(this,this[Yi].get(e)),!1;const i=this[Yi].get(e).value;return this[Ki]&&(this[Xi]||this[Ki](e,i.value)),i.now=r,i.maxAge=n,i.value=t,this[Gi]+=o-i.length,i.length=o,this.get(e),oa(this),!0}const i=new aa(e,t,o,r,n);return i.length>this[zi]?(this[Ki]&&this[Ki](e,t),!1):(this[Gi]+=i.length,this[Zi].unshift(i),this[Yi].set(e,this[Zi].head),oa(this),!0)}has(e){if(!this[Yi].has(e))return!1;const t=this[Yi].get(e).value;return!ra(this,t)}get(e){return na(this,e,!0)}peek(e){return na(this,e,!1)}pop(){const e=this[Zi].tail;return e?(ia(this,e),e.value):null}del(e){ia(this,this[Yi].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[Yi].forEach((e,t)=>na(this,t,!1))}},la=class{constructor({document:e}){this.document=e,this.cache=new ca({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}};const{isArray:ua,isObject:da,isString:pa}=Ai,{asArray:fa}=_i,{prependBase:ha}=i({});function ya(e){throw new Ri("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}var ga,ma=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:r,cycles:o=new Set}){t&&da(t)&&t["@context"]&&(t=t["@context"]),t=fa(t);const i=[];for(const a of t){if(pa(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:r,cycles:o})),ua(t)?i.push(...t):i.push(t);continue}if(null===a){i.push(new la({document:null}));continue}da(a)||ya(t);const s=JSON.stringify(a);let c=this._get(s);c||(c=new la({document:a}),this._cacheResolvedContext({key:s,resolved:c,tag:"static"})),i.push(c)}return i}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:o}){t=ha(r,t);const{context:i,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:o});!function e({context:t,base:n}){if(!t)return;const r=t["@context"];if(pa(r))t["@context"]=ha(n,r);else if(ua(r))for(let o=0;o<r.length;++o){const t=r[o];pa(t)?r[o]=ha(n,t):da(t)&&e({context:{"@context":t},base:n})}else if(da(r))for(const o in r)e({context:r[o],base:n})}({context:i,base:r=a.documentUrl||t});const s=await this.resolve({activeCtx:e,context:i,documentLoader:n,base:r,cycles:o});return this._cacheResolvedContext({key:t,resolved:s,tag:a.tag}),s}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:r}){if(r.size>10)throw new Ri("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(r.has(t))throw new Ri("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let o,i;r.add(t);try{o=(i=await n(t)).document||null,pa(o)&&(o=JSON.parse(o))}catch(Hc){throw new Ri("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:Hc})}if(!da(o))throw new Ri("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return o="@context"in o?{"@context":o["@context"]}:{"@context":{}},i.contextUrl&&(ua(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(i.contextUrl)),{context:o,remoteDoc:i}}},va=Ii.NQuads;const{isArray:ba,isObject:wa,isString:xa,isUndefined:Oa}=Ai,{isAbsolute:Sa,isRelative:Ia,prependBase:ja}=i({}),{asArray:Ta,compareShortestLeast:Aa}=_i,Na=new Map,Ca=/^@[a-zA-Z]+$/,Ea={};function Ra(e,t,n,r,o,i){if(null===t||!xa(t)||Ea.isKeyword(t))return t;if(t.match(Ca))return null;if(r&&r.hasOwnProperty(t)&&!0!==o.get(t)&&Ea.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:o,options:i}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(wa(n)&&"@id"in n)return n["@id"]}const a=t.indexOf(":");if(a>0){const n=t.substr(0,a),s=t.substr(a+1);if("_"===n||0===s.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&Ea.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:o,options:i});const c=e.mappings.get(n);if(c&&c._prefix)return c["@id"]+s;if(Sa(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return ja(ja(i.base,e["@base"]),t)}else if(n.base)return ja(i.base,t);return t}ga=Ea,Ea.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:o=!1,cycles:i=new Set})=>{if(wa(t)&&"@context"in t&&ba(t["@context"])&&(t=t["@context"]),0===Ta(t).length)return e;const a=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});wa(a[0].document)&&"boolean"==typeof a[0].document["@propagate"]&&(r=a[0].document["@propagate"]);let s=e;r||s.previousContext||((s=s.clone()).previousContext=e);for(const c of a){let{document:r}=c;if(e=s,null===r){if(!o&&0!==Object.keys(e.protected).length){const r=n&&n.protectedMode||"error";if("error"===r)throw new Ri("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===r){console.warn("WARNING: invalid context nullification");const t=c.getProcessed(e);if(t){s=e=t;continue}const r=e;s=e=Ea.getInitialContext(n).clone();for(const[n,o]of Object.entries(r.protected))o&&(e.mappings[n]=_i.clone(r.mappings[n]));e.protected=_i.clone(r.protected),c.setProcessed(r,s);continue}throw new Ri("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:r})}s=e=Ea.getInitialContext(n).clone();continue}const a=c.getProcessed(e);if(a){s=e=a;continue}if(wa(r)&&"@context"in r&&(r=r["@context"]),!wa(r))throw new Ri("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:r});s=s.clone();const l=new Map;if("@version"in r){if(1.1!==r["@version"])throw new Ri("Unsupported JSON-LD version: "+r["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:r});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new Ri("@version: "+r["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:r});s.processingMode="json-ld-1.1",s["@version"]=r["@version"],l.set("@version",!0)}if(s.processingMode=s.processingMode||e.processingMode,"@base"in r){let e=r["@base"];if(null===e||Sa(e));else{if(!Ia(e))throw new Ri('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:r});e=ja(s["@base"],e)}s["@base"]=e,l.set("@base",!0)}if("@vocab"in r){const e=r["@vocab"];if(null===e)delete s["@vocab"];else{if(!xa(e))throw new Ri('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});if(!Sa(e)&&Ea.processingMode(s,1))throw new Ri('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});s["@vocab"]=Ra(s,e,{vocab:!0,base:!0},void 0,void 0,n)}l.set("@vocab",!0)}if("@language"in r){const e=r["@language"];if(null===e)delete s["@language"];else{if(!xa(e))throw new Ri('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:r});s["@language"]=e.toLowerCase()}l.set("@language",!0)}if("@direction"in r){const t=r["@direction"];if("json-ld-1.0"===e.processingMode)throw new Ri("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:r});if(null===t)delete s["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new Ri('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});s["@direction"]=t}l.set("@direction",!0)}if("@propagate"in r){const n=r["@propagate"];if("json-ld-1.0"===e.processingMode)throw new Ri("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if("boolean"!=typeof n)throw new Ri("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});l.set("@propagate",!0)}if("@import"in r){const o=r["@import"];if("json-ld-1.0"===e.processingMode)throw new Ri("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if(!xa(o))throw new Ri("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const i=await n.contextResolver.resolve({activeCtx:e,context:o,documentLoader:n.documentLoader,base:n.base});if(1!==i.length)throw new Ri("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=i[0].getProcessed(e);if(a)r=a;else{const n=i[0].document;if("@import"in n)throw new Ri("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)r.hasOwnProperty(e)||(r[e]=n[e]);i[0].setProcessed(e,r)}l.set("@import",!0)}l.set("@protected",r["@protected"]||!1);for(const e in r)if(Ea.createTermDefinition({activeCtx:s,localCtx:r,term:e,defined:l,options:n,overrideProtected:o}),wa(r[e])&&"@context"in r[e]){const t=r[e]["@context"];let o=!0;if(xa(t)){const e=ja(n.base,t);i.has(e)?o=!1:i.add(e)}if(o)try{await Ea.process({activeCtx:s.clone(),localCtx:r[e]["@context"],overrideProtected:!0,options:n,cycles:i})}catch(Hc){throw new Ri("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:r[e]["@context"],term:e})}}c.setProcessed(e,s)}return s},Ea.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:o,overrideProtected:i=!1})=>{if(r.has(n)){if(r.get(n))return;throw new Ri("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let a;if(r.set(n,!1),t.hasOwnProperty(n)&&(a=t[n]),"@type"===n&&wa(a)&&"@set"===(a["@container"]||"@set")&&Ea.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(a);if(0===r.length||r.some(t=>!e.includes(t)))throw new Ri("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(Ea.isKeyword(n))throw new Ri("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(Ca))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new Ri("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const s=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let c=!1;if((xa(a)||null===a)&&(c=!0,a={"@id":a}),!wa(a))throw new Ri("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const l={};e.mappings.set(n,l),l.reverse=!1;const u=["@container","@id","@language","@reverse","@type"];Ea.processingMode(e,1.1)&&u.push("@context","@direction","@index","@nest","@prefix","@protected");for(const f in a)if(!u.includes(f))throw new Ri("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(l._termHasColon=d>0,"@reverse"in a){if("@id"in a)throw new Ri("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new Ri("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const i=a["@reverse"];if(!xa(i))throw new Ri("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!Ea.isKeyword(i)&&i.match(Ca))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:i}),void(s?e.mappings.set(n,s):e.mappings.delete(n));const c=Ra(e,i,{vocab:!0,base:!1},t,r,o);if(!Sa(c))throw new Ri("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});l["@id"]=c,l.reverse=!0}else if("@id"in a){let i=a["@id"];if(i&&!xa(i))throw new Ri("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===i)l["@id"]=null;else{if(!Ea.isKeyword(i)&&i.match(Ca))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:i}),void(s?e.mappings.set(n,s):e.mappings.delete(n));if(i!==n){if(i=Ra(e,i,{vocab:!0,base:!1},t,r,o),!Sa(i)&&!Ea.isKeyword(i))throw new Ri("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)&&Ra(e,n,{vocab:!0,base:!1},t,new Map(r).set(n,!0),o)!==i)throw new Ri("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});l["@id"]=i,l._prefix=c&&!l._termHasColon&&i.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in l))if(l._termHasColon){const i=n.substr(0,d);if(t.hasOwnProperty(i)&&Ea.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:r,options:o}),e.mappings.has(i)){const t=n.substr(d+1);l["@id"]=e.mappings.get(i)["@id"]+t}else l["@id"]=n}else if("@type"===n)l["@id"]=n;else{if(!("@vocab"in e))throw new Ri("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});l["@id"]=e["@vocab"]+n}if((!0===a["@protected"]||!0===r.get("@protected")&&!1!==a["@protected"])&&(e.protected[n]=!0,l.protected=!0),r.set(n,!0),"@type"in a){let n=a["@type"];if(!xa(n))throw new Ri("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(Ea.processingMode(e,1))throw new Ri(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=Ra(e,n,{vocab:!0,base:!1},t,r,o),!Sa(n))throw new Ri("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new Ri("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}l["@type"]=n}if("@container"in a){const n=xa(a["@container"])?[a["@container"]]:a["@container"]||[],r=["@list","@set","@index","@language"];let o=!0;const i=n.includes("@set");if(Ea.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new Ri("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new Ri("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=n.length<=(i?2:1);if(n.includes("@type")&&(l["@type"]=l["@type"]||"@id",!["@id","@vocab"].includes(l["@type"])))throw new Ri("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!ba(a["@container"]),o&=n.length<=1;if(o&=n.every(e=>r.includes(e)),!(o&=!(i&&n.includes("@list"))))throw new Ri("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(l.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new Ri("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});l["@container"]=n}if("@index"in a){if(!("@container"in a)||!l["@container"].includes("@index"))throw new Ri(`Invalid JSON-LD syntax; @index without @index in @container: "${a["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!xa(a["@index"])||0===a["@index"].indexOf("@"))throw new Ri(`Invalid JSON-LD syntax; @index must expand to an IRI: "${a["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});l["@index"]=a["@index"]}if("@context"in a&&(l["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let e=a["@language"];if(null!==e&&!xa(e))throw new Ri("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),l["@language"]=e}if("@prefix"in a){if(n.match(/:|\//))throw new Ri("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(Ea.isKeyword(l["@id"]))throw new Ri("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof a["@prefix"])throw new Ri("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});l._prefix=!0===a["@prefix"]}if("@direction"in a){const e=a["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new Ri('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});l["@direction"]=e}if("@nest"in a){const e=a["@nest"];if(!xa(e)||"@nest"!==e&&0===e.indexOf("@"))throw new Ri("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});l["@nest"]=e}const p=l["@id"];if("@context"===p||"@preserve"===p)throw new Ri("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!i&&(e.protected[n]=!0,l.protected=!0,!function e(t,n){if(!t||"object"!=typeof t||!n||"object"!=typeof n)return t===n;const r=Array.isArray(t);if(r!==Array.isArray(n))return!1;if(r){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],n[r]))return!1;return!0}const o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(const a in t){let r=t[a],o=n[a];if("@container"===a&&Array.isArray(r)&&Array.isArray(o)&&(r=r.slice().sort(),o=o.slice().sort()),!e(r,o))return!1}return!0}(s,l))){const e=o&&o.protectedMode||"error";if("error"===e)throw new Ri(`Invalid JSON-LD syntax; tried to redefine "${n}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new Ri("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},Ea.expandIri=(e,t,n,r)=>Ra(e,t,n,void 0,void 0,r),Ea.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=Na.get(t);if(n)return n;const r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;const e=this.inverse={},t=this.fastCurieMap={},n={},r=(this["@language"]||"@none").toLowerCase(),a=this["@direction"],s=this.mappings,c=[...s.keys()].sort(Aa);for(const o of c){const c=s.get(o);if(null===c)continue;let l=c["@container"]||"@none";if(l=[].concat(l).sort().join(""),null===c["@id"])continue;const u=Ta(c["@id"]);for(const s of u){let u=e[s];const d=Ea.isKeyword(s);if(u)d||c._termHasColon||n[s].push(o);else if(e[s]=u={},!d&&!c._termHasColon){n[s]=[o];const e={iri:s,terms:n[s]};s[0]in t?t[s[0]].push(e):t[s[0]]=[e]}if(u[l]||(u[l]={"@language":{},"@type":{},"@any":{}}),u=u[l],i(o,u["@any"],"@none"),c.reverse)i(o,u["@type"],"@reverse");else if("@none"===c["@type"])i(o,u["@any"],"@none"),i(o,u["@language"],"@none"),i(o,u["@type"],"@none");else if("@type"in c)i(o,u["@type"],c["@type"]);else if("@language"in c&&"@direction"in c){const e=c["@language"],t=c["@direction"];i(o,u["@language"],e&&t?`${e}_${t}`.toLowerCase():e?e.toLowerCase():t?"_"+t:"@null")}else"@language"in c?i(o,u["@language"],(c["@language"]||"@null").toLowerCase()):"@direction"in c?c["@direction"]?i(o,u["@language"],"_"+c["@direction"]):i(o,u["@language"],"@none"):a?(i(o,u["@language"],"_"+a),i(o,u["@language"],"@none"),i(o,u["@type"],"@none")):(i(o,u["@language"],r),i(o,u["@language"],"@none"),i(o,u["@type"],"@none"))}}for(const i in t)o(t,i,1);return e},clone:function(){const e={};return e.mappings=_i.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=_i.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===Na.size&&Na.clear(),Na.set(t,r),r;function o(e,t,n){const r=e[t],i=e[t]={};let a,s;for(const o of r)(s=n>=(a=o.iri).length?"":a[n])in i?i[s].push(o):i[s]=[o];for(const c in i)""!==c&&o(i,c,n+1)}function i(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},Ea.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(Oa(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},Ea.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,Ea.isKeyword=e=>{if(!xa(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};const{isArray:_a,isObject:ka,isEmptyObject:La,isString:Da,isUndefined:Pa}=Ai,{isList:Ma,isValue:Fa,isGraph:Ja,isSubject:Ua}=Ci,{expandIri:Ba,getContextValue:Va,isKeyword:qa,process:Ha,processingMode:za}=ga,{isAbsolute:Ga}=i({}),{addValue:$a,asArray:Wa,getValues:Qa,validateTypeValue:Ka}=_i,Xa={};var Za=Xa;const Ya=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function es({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;const o=Ba(e,t,{vocab:!0},r);if("@id"===o)return Ba(e,n,{base:!0},r);if("@type"===o)return Ba(e,n,{vocab:!0,base:!0},r);const i=Va(e,t,"@type");if(("@id"===i||"@graph"===o)&&Da(n))return{"@id":Ba(e,n,{base:!0},r)};if("@vocab"===i&&Da(n))return{"@id":Ba(e,n,{vocab:!0,base:!0},r)};if(qa(o))return n;const a={};if(i&&!["@id","@vocab","@none"].includes(i))a["@type"]=i;else if(Da(n)){const n=Va(e,t,"@language");null!==n&&(a["@language"]=n);const r=Va(e,t,"@direction");null!==r&&(a["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function ts(e,t,n,r){const o=[],i=Object.keys(t).sort();for(const a of i){const i=Ba(e,a,{vocab:!0},r);let s=t[a];_a(s)||(s=[s]);for(const e of s){if(null===e)continue;if(!Da(e))throw new Ri("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const r={"@value":e};"@none"!==i&&(r["@language"]=a.toLowerCase()),n&&(r["@direction"]=n),o.push(r)}}return o}async function ns({activeCtx:e,options:t,activeProperty:n,value:r,expansionMap:o,asGraph:i,indexKey:a,propertyIndex:s}){const c=[],l=Object.keys(r).sort(),u="@type"===a;for(let d of l){if(u){const n=Va(e,d,"@context");Pa(n)||(e=await Ha({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let l,p=r[d];_a(p)||(p=[p]),p=await Xa.expand({activeCtx:e,activeProperty:n,element:p,options:t,insideList:!1,insideIndex:!0,expansionMap:o}),l=s?"@none"===d?"@none":es({activeCtx:e,activeProperty:a,value:d,options:t}):Ba(e,d,{vocab:!0},t),"@id"===a?d=Ba(e,d,{base:!0},t):u&&(d=l);for(let e of p){if(i&&!Ja(e)&&(e={"@graph":[e]}),"@type"===a)"@none"===l||(e["@type"]?e["@type"]=[d].concat(e["@type"]):e["@type"]=[d]);else{if(Fa(e)&&!["@language","@type","@index"].includes(a))throw new Ri(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${a}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});s?"@none"!==l&&$a(e,s,l,{propertyIsArray:!0,prependValue:!0}):"@none"===l||a in e||(e[a]=d)}c.push(e)}}return c}Xa.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},insideList:o=!1,insideIndex:i=!1,typeScopedContext:a=null,expansionMap:s=(()=>{})})=>{if(null==n)return null;if("@default"===t&&(r=Object.assign({},r,{isFrame:!1})),!_a(n)&&!ka(n)){if(!o&&(null===t||"@graph"===Ba(e,t,{vocab:!0},r))){const i=await s({unmappedValue:n,activeCtx:e,activeProperty:t,options:r,insideList:o});return void 0===i?null:i}return es({activeCtx:e,activeProperty:t,value:n,options:r})}if(_a(n)){let c=[];const l=Va(e,t,"@container")||[];o=o||l.includes("@list");for(let u=0;u<n.length;++u){let l=await Xa.expand({activeCtx:e,activeProperty:t,element:n[u],options:r,expansionMap:s,insideIndex:i,typeScopedContext:a});o&&_a(l)&&(l={"@list":l}),null===l&&void 0===(l=await s({unmappedValue:n[u],activeCtx:e,activeProperty:t,parent:n,index:u,options:r,expandedParent:c,insideList:o}))||(_a(l)?c=c.concat(l):c.push(l))}return c}const c=Ba(e,t,{vocab:!0},r),l=Va(e,t,"@context");a=a||(e.previousContext?e:null);let u=Object.keys(n).sort(),d=!i;if(d&&a&&u.length<=2&&!u.includes("@context"))for(const y of u){const t=Ba(a,y,{vocab:!0},r);if("@value"===t){d=!1,e=a;break}if("@id"===t&&1===u.length){d=!1;break}}d&&(e=e.revertToPreviousContext()),Pa(l)||(e=await Ha({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(e=await Ha({activeCtx:e,localCtx:n["@context"],options:r})),a=e;let p=null;for(const y of u)if("@type"===Ba(e,y,{vocab:!0},r)){p=p||y;const t=n[y],o=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of o){const t=Va(a,n,"@context");Pa(t)||(e=await Ha({activeCtx:e,localCtx:t,options:r,propagate:!1}))}}let f={};await async function e({activeCtx:t,activeProperty:n,expandedActiveProperty:r,element:o,expandedParent:i,options:a={},insideList:s,typeKey:c,typeScopedContext:l,expansionMap:u}){const d=Object.keys(o).sort(),p=[];let f;const h=o[c]&&"@json"===Ba(t,_a(o[c])?o[c][0]:o[c],{vocab:!0},a);for(const y of d){let e,c=o[y];if("@context"===y)continue;let d=Ba(t,y,{vocab:!0},a);if((null===d||!Ga(d)&&!qa(d))&&void 0===(d=u({unmappedProperty:y,activeCtx:t,activeProperty:n,parent:o,options:a,insideList:s,value:c,expandedParent:i})))continue;if(qa(d)){if("@reverse"===r)throw new Ri("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:c});if(d in i&&"@included"!==d&&"@type"!==d)throw new Ri("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:d})}if("@id"===d){if(!Da(c)){if(!a.isFrame)throw new Ri('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:c});if(ka(c)){if(!La(c))throw new Ri('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:c})}else{if(!_a(c))throw new Ri('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:c});if(!c.every(e=>Da(e)))throw new Ri('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:c})}}$a(i,"@id",Wa(c).map(e=>Da(e)?Ba(t,e,{base:!0},a):e),{propertyIsArray:a.isFrame});continue}if("@type"===d){ka(c)&&(c=Object.fromEntries(Object.entries(c).map(([e,t])=>[Ba(l,e,{vocab:!0}),Wa(t).map(e=>Ba(l,e,{base:!0,vocab:!0}))]))),Ka(c,a.isFrame),$a(i,"@type",Wa(c).map(e=>Da(e)?Ba(l,e,{base:!0,vocab:!0},a):e),{propertyIsArray:a.isFrame});continue}if("@included"===d&&za(t,1.1)){const e=Wa(await Xa.expand({activeCtx:t,activeProperty:n,element:c,options:a,expansionMap:u}));if(!e.every(e=>Ua(e)))throw new Ri("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:c});$a(i,"@included",e,{propertyIsArray:!0});continue}if("@graph"===d&&!ka(c)&&!_a(c))throw new Ri('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:c});if("@value"===d){f=c,h&&za(t,1.1)?i["@value"]=c:$a(i,"@value",c,{propertyIsArray:a.isFrame});continue}if("@language"===d){if(null===c)continue;if(!Da(c)&&!a.isFrame)throw new Ri('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:c});c=Wa(c).map(e=>Da(e)?e.toLowerCase():e);for(const e of c)Da(e)&&!e.match(Ya)&&console.warn("@language must be valid BCP47: "+e);$a(i,"@language",c,{propertyIsArray:a.isFrame});continue}if("@direction"===d){if(!Da(c)&&!a.isFrame)throw new Ri('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:c});c=Wa(c);for(const e of c)if(Da(e)&&"ltr"!==e&&"rtl"!==e)throw new Ri('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:c});$a(i,"@direction",c,{propertyIsArray:a.isFrame});continue}if("@index"===d){if(!Da(c))throw new Ri('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:c});$a(i,"@index",c);continue}if("@reverse"===d){if(!ka(c))throw new Ri('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:c});if("@reverse"in(e=await Xa.expand({activeCtx:t,activeProperty:"@reverse",element:c,options:a,expansionMap:u})))for(const t in e["@reverse"])$a(i,t,e["@reverse"][t],{propertyIsArray:!0});let n=i["@reverse"]||null;for(const t in e){if("@reverse"===t)continue;null===n&&(n=i["@reverse"]={}),$a(n,t,[],{propertyIsArray:!0});const r=e[t];for(let o=0;o<r.length;++o){const i=r[o];if(Fa(i)||Ma(i))throw new Ri('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});$a(n,t,i,{propertyIsArray:!0})}}continue}if("@nest"===d){p.push(y);continue}let g=t;const m=Va(t,y,"@context");Pa(m)||(g=await Ha({activeCtx:t,localCtx:m,propagate:!0,overrideProtected:!0,options:a}));const v=Va(g,y,"@container")||[];if(v.includes("@language")&&ka(c)){e=ts(g,c,Va(g,y,"@direction"),a)}else if(v.includes("@index")&&ka(c)){const n=v.includes("@graph"),r=Va(g,y,"@index")||"@index",o="@index"!==r&&Ba(t,r,{vocab:!0},a);e=await ns({activeCtx:g,options:a,activeProperty:y,value:c,expansionMap:u,asGraph:n,indexKey:r,propertyIndex:o})}else if(v.includes("@id")&&ka(c)){const t=v.includes("@graph");e=await ns({activeCtx:g,options:a,activeProperty:y,value:c,expansionMap:u,asGraph:t,indexKey:"@id"})}else if(v.includes("@type")&&ka(c))e=await ns({activeCtx:g.revertToPreviousContext(),options:a,activeProperty:y,value:c,expansionMap:u,asGraph:!1,indexKey:"@type"});else{const o="@list"===d;if(o||"@set"===d){let t=n;o&&"@graph"===r&&(t=null),e=await Xa.expand({activeCtx:g,activeProperty:t,element:c,options:a,insideList:o,expansionMap:u})}else e="@json"===Va(t,y,"@type")?{"@type":"@json","@value":c}:await Xa.expand({activeCtx:g,activeProperty:y,element:c,options:a,insideList:!1,expansionMap:u})}if(null!==e||"@value"===d||void 0!==(e=u({unmappedValue:c,expandedProperty:d,activeCtx:g,activeProperty:n,parent:o,options:a,insideList:s,key:y,expandedParent:i})))if("@list"!==d&&!Ma(e)&&v.includes("@list")&&(e={"@list":Wa(e)}),v.includes("@graph")&&!v.some(e=>"@id"===e||"@index"===e)&&(e=Wa(e).map(e=>({"@graph":Wa(e)}))),g.mappings.has(y)&&g.mappings.get(y).reverse){const t=i["@reverse"]=i["@reverse"]||{};e=Wa(e);for(let n=0;n<e.length;++n){const r=e[n];if(Fa(r)||Ma(r))throw new Ri('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});$a(t,d,r,{propertyIsArray:!0})}}else $a(i,d,e,{propertyIsArray:!0})}if("@value"in i)if("@json"===i["@type"]&&za(t,1.1));else if((ka(f)||_a(f))&&!a.isFrame)throw new Ri('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:f});for(const y of p){const d=_a(o[y])?o[y]:[o[y]];for(const o of d){if(!ka(o)||Object.keys(o).some(e=>"@value"===Ba(t,e,{vocab:!0},a)))throw new Ri("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:o});await e({activeCtx:t,activeProperty:n,expandedActiveProperty:r,element:o,expandedParent:i,options:a,insideList:s,typeScopedContext:l,typeKey:c,expansionMap:u})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:c,element:n,expandedParent:f,options:r,insideList:o,typeKey:p,typeScopedContext:a,expansionMap:s});let h=(u=Object.keys(f)).length;if("@value"in f){if("@type"in f&&("@language"in f||"@direction"in f))throw new Ri('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});let i=h-1;if("@type"in f&&(i-=1),"@index"in f&&(i-=1),"@language"in f&&(i-=1),"@direction"in f&&(i-=1),0!==i)throw new Ri('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});const a=null===f["@value"]?[]:Wa(f["@value"]),c=Qa(f,"@type");if(za(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===a.length){const i=await s({unmappedValue:f,activeCtx:e,activeProperty:t,element:n,options:r,insideList:o});f=void 0!==i?i:null}else{if(!a.every(e=>Da(e)||La(e))&&"@language"in f)throw new Ri("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:f});if(!c.every(e=>Ga(e)&&!(Da(e)&&0===e.indexOf("_:"))||La(e)))throw new Ri('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:f})}}else if("@type"in f&&!_a(f["@type"]))f["@type"]=[f["@type"]];else if("@set"in f||"@list"in f){if(h>1&&(2!==h||!("@index"in f)))throw new Ri('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:f});"@set"in f&&(f=f["@set"],h=(u=Object.keys(f)).length)}else if(1===h&&"@language"in f){const i=await s(f,{unmappedValue:f,activeCtx:e,activeProperty:t,element:n,options:r,insideList:o});f=void 0!==i?i:null}if(ka(f)&&!r.keepFreeFloatingNodes&&!o&&(null===t||"@graph"===c)&&(0===h||"@value"in f||"@list"in f||1===h&&"@id"in f)){const i=await s({unmappedValue:f,activeCtx:e,activeProperty:t,element:n,options:r,insideList:o});f=void 0!==i?i:null}return f};var rs;const{isKeyword:os}=ga,is={};rs=is,is.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new _i.IdentifierIssuer("_:b"),r={"@default":{}};return is.createNodeMap(e,r,"@default",n),is.mergeNodeMaps(r)},is.createNodeMap=(e,t,n,r,o,i)=>{if(Ai.isArray(e)){for(const o of e)is.createNodeMap(o,t,n,r,void 0,i);return}if(!Ai.isObject(e))return void(i&&i.push(e));if(Ci.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=r.getId(t))}return void(i&&i.push(e))}if(i&&Ci.isList(e)){const a=[];return is.createNodeMap(e["@list"],t,n,r,o,a),void i.push({"@list":a})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&r.getId(e)}Ai.isUndefined(o)&&(o=Ci.isBlankNode(e)?r.getId(e["@id"]):e["@id"]),i&&i.push({"@id":o});const a=t[n],s=a[o]=a[o]||{};s["@id"]=o;const c=Object.keys(e).sort();for(let l of c){if("@id"===l)continue;if("@reverse"===l){const i={"@id":o},s=e["@reverse"];for(const e in s){const o=s[e];for(const s of o){let o=s["@id"];Ci.isBlankNode(s)&&(o=r.getId(o)),is.createNodeMap(s,t,n,r,o),_i.addValue(a[o],e,i,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===l){o in t||(t[o]={}),is.createNodeMap(e[l],t,o,r);continue}if("@included"===l){is.createNodeMap(e[l],t,n,r);continue}if("@type"!==l&&os(l)){if("@index"===l&&l in s&&(e[l]!==s[l]||e[l]["@id"]!==s[l]["@id"]))throw new Ri("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:s});s[l]=e[l];continue}const i=e[l];if(0===l.indexOf("_:")&&(l=r.getId(l)),0!==i.length)for(let e of i)if("@type"===l&&(e=0===e.indexOf("_:")?r.getId(e):e),Ci.isSubject(e)||Ci.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const o=Ci.isBlankNode(e)?r.getId(e["@id"]):e["@id"];_i.addValue(s,l,{"@id":o},{propertyIsArray:!0,allowDuplicate:!1}),is.createNodeMap(e,t,n,r,o)}else if(Ci.isValue(e))_i.addValue(s,l,e,{propertyIsArray:!0,allowDuplicate:!1});else if(Ci.isList(e)){const i=[];is.createNodeMap(e["@list"],t,n,r,o,i),e={"@list":i},_i.addValue(s,l,e,{propertyIsArray:!0,allowDuplicate:!1})}else is.createNodeMap(e,t,n,r,o),_i.addValue(s,l,e,{propertyIsArray:!0,allowDuplicate:!1});else _i.addValue(s,l,[],{propertyIsArray:!0})}},is.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const r of Object.keys(e[n]).sort()){const o=e[n][r];r in t||(t[r]={"@id":r});const i=t[r];for(const e of Object.keys(o).sort())if(os(e)&&"@type"!==e)i[e]=_i.clone(o[e]);else for(const t of o[e])_i.addValue(i,e,_i.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},is.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};const i=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];Ci.isSubjectReference(t)||i.push(t)}}return t};var as;const{isSubjectReference:ss}=Ci,{createMergedNodeMap:cs}=rs,ls={};as=ls,ls.flatten=e=>{const t=cs(e),n=[],r=Object.keys(t).sort();for(let o=0;o<r.length;++o){const e=t[r[o]];ss(e)||n.push(e)}return n};const us="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ds="http://www.w3.org/2001/XMLSchema#";var ps,fs={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:us+"List",RDF_FIRST:us+"first",RDF_REST:us+"rest",RDF_NIL:us+"nil",RDF_TYPE:us+"type",RDF_JSON_LITERAL:us+"JSON",RDF_LANGSTRING:us+"langString",XSD_BOOLEAN:ds+"boolean",XSD_DOUBLE:ds+"double",XSD_INTEGER:ds+"integer",XSD_STRING:ds+"string"};const{RDF_LIST:hs,RDF_FIRST:ys,RDF_REST:gs,RDF_NIL:ms,RDF_TYPE:vs,RDF_JSON_LITERAL:bs,XSD_BOOLEAN:ws,XSD_DOUBLE:xs,XSD_INTEGER:Os,XSD_STRING:Ss}=fs,Is=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,js={};function Ts(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=Ss),o===bs){o="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(Hc){throw new Ri("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:Hc})}}if(t){if(o===ws)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(Ai.isNumeric(r["@value"]))if(o===Os){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else o===xs&&(r["@value"]=parseFloat(r["@value"]));[ws,Os,xs,Ss].includes(o)||(r["@type"]=o)}else if("i18n-datatype"===n&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=o.split(/[#_]/);e.length>0&&(r["@language"]=e,e.match(Is)||console.warn("@language must be valid BCP47: "+e)),r["@direction"]=t}else o!==Ss&&(r["@type"]=o)}return r}ps=js,js.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const o={},i={"@default":o},a={};for(const l of e){const e="DefaultGraph"===l.graph.termType?"@default":l.graph.value;e in i||(i[e]={}),"@default"===e||e in o||(o[e]={"@id":e});const s=i[e],c=l.subject.value,u=l.predicate.value,d=l.object;c in s||(s[c]={"@id":c});const p=s[c],f=d.termType.endsWith("Node");if(!f||d.value in s||(s[d.value]={"@id":d.value}),u===vs&&!t&&f){_i.addValue(p,"@type",d.value,{propertyIsArray:!0});continue}const h=Ts(d,n,r);if(_i.addValue(p,u,h,{propertyIsArray:!0}),f)if(d.value===ms){const e=s[d.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:u,value:h})}else d.value in a?a[d.value]=!1:a[d.value]={node:p,property:u,value:h}}for(const l in i){const e=i[l];if(!(ms in e))continue;const t=e[ms];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,o=n.value;const i=[],s=[];let c=Object.keys(t).length;for(;r===gs&&Ai.isObject(a[t["@id"]])&&Ai.isArray(t[ys])&&1===t[ys].length&&Ai.isArray(t[gs])&&1===t[gs].length&&(3===c||4===c&&Ai.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===hs)&&(i.push(t[ys][0]),s.push(t["@id"]),t=(n=a[t["@id"]]).node,r=n.property,o=n.value,c=Object.keys(t).length,Ci.isBlankNode(t)););delete o["@id"],o["@list"]=i.reverse();for(const n of s)delete e[n]}delete t.usages}}const s=[],c=Object.keys(o).sort();for(const l of c){const e=o[l];if(l in i){const t=e["@graph"]=[],n=i[l],r=Object.keys(n).sort();for(const e of r){const r=n[e];Ci.isSubjectReference(r)||t.push(r)}}Ci.isSubjectReference(e)||s.push(e)}return s};var As;const{createNodeMap:Ns}=rs,{isKeyword:Cs}=ga,{RDF_FIRST:Es,RDF_REST:Rs,RDF_NIL:_s,RDF_TYPE:ks,RDF_JSON_LITERAL:Ls,RDF_LANGSTRING:Ds,XSD_BOOLEAN:Ps,XSD_DOUBLE:Ms,XSD_INTEGER:Fs,XSD_STRING:Js}=fs,{isAbsolute:Us}=i({}),Bs={};function Vs(e,t,n,r,o){const i=Object.keys(t).sort();for(const a of i){const i=t[a],s=Object.keys(i).sort();for(let t of s){const s=i[t];if("@type"===t)t=ks;else if(Cs(t))continue;for(const i of s){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!Us(a))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!Us(t))continue;if("BlankNode"===c.termType&&!o.produceGeneralizedRdf)continue;const l=qs(i,r,e,n,o.rdfDirection);l&&e.push({subject:s,predicate:c,object:l,graph:n})}}}}function qs(e,t,n,r,o){const i={};if(Ci.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)i.value=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n),"")+"]":"{"+Object.keys(t).sort().reduce((n,r,o)=>void 0===t[r]||"symbol"==typeof t[r]?n:n+(0===n.length?"":",")+e(r)+":"+e(t[r]),"")+"}"}(t),i.datatype.value=Ls;else if(Ai.isBoolean(t))i.value=t.toString(),i.datatype.value=n||Ps;else if(Ai.isDouble(t)||n===Ms)Ai.isDouble(t)||(t=parseFloat(t)),i.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=n||Ms;else if(Ai.isNumber(t))i.value=t.toFixed(0),i.datatype.value=n||Fs;else if("i18n-datatype"===o&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"];i.datatype.value=n,i.value=t}else"@language"in e?(i.value=t,i.datatype.value=n||Ds,i.language=e["@language"]):(i.value=t,i.datatype.value=n||Js)}else if(Ci.isList(e)){const a=function(e,t,n,r,o){const i={termType:"NamedNode",value:Es},a={termType:"NamedNode",value:Rs},s={termType:"NamedNode",value:_s},c=e.pop(),l=c?{termType:"BlankNode",value:t.getId()}:s;let u=l;for(const d of e){const e=qs(d,t,n,r,o),s={termType:"BlankNode",value:t.getId()};n.push({subject:u,predicate:i,object:e,graph:r}),n.push({subject:u,predicate:a,object:s,graph:r}),u=s}if(c){const e=qs(c,t,n,r,o);n.push({subject:u,predicate:i,object:e,graph:r}),n.push({subject:u,predicate:a,object:s,graph:r})}return l}(e["@list"],t,n,r,o);i.termType=a.termType,i.value=a.value}else{const t=Ai.isObject(e)?e["@id"]:e;i.termType=t.startsWith("_:")?"BlankNode":"NamedNode",i.value=t}return"NamedNode"!==i.termType||Us(i.value)?i:null}As=Bs,Bs.toRDF=(e,t)=>{const n=new _i.IdentifierIssuer("_:b"),r={"@default":{}};Ns(e,r,"@default",n);const o=[],i=Object.keys(r).sort();for(const a of i){let e;if("@default"===a)e={termType:"DefaultGraph",value:""};else{if(!Us(a))continue;(e=a.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=a}Vs(o,r[a],e,n,t)}return o};var Hs;const{isKeyword:zs}=ga,Gs=i({}),{createNodeMap:$s,mergeNodeMapGraphs:Ws}=rs,Qs={};function Ks(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function Xs(e,t,n){for(let r=n.length-1;r>=0;--r){const o=n[r];if(o.graph===t&&o.subject["@id"]===e["@id"])return!0}return!1}function Zs(e,t,n){const r="@"+n;let o=r in e?e[r][0]:t[n];if("embed"===n)if(!0===o)o="@once";else if(!1===o)o="@never";else if("@always"!==o&&"@never"!==o&&"@link"!==o&&"@first"!==o&&"@last"!==o&&"@once"!==o)throw new Ri("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return o}function Ys(e){if(!Ai.isArray(e)||1!==e.length||!Ai.isObject(e[0]))throw new Ri("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of _i.asArray(e[0]["@id"]))if(!Ai.isObject(t)&&!Gs.isAbsolute(t)||Ai.isString(t)&&0===t.indexOf("_:"))throw new Ri("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of _i.asArray(e[0]["@type"]))if(!Ai.isObject(t)&&!Gs.isAbsolute(t)||Ai.isString(t)&&0===t.indexOf("_:"))throw new Ri("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function ec(e,t,n,r){let o=!0,i=!1;for(const a in n){let s=!1;const c=_i.getValues(t,a),l=0===_i.getValues(n,a).length;if("@id"===a){if(Ai.isEmptyObject(n["@id"][0]||{})?s=!0:n["@id"].length>=0&&(s=n["@id"].includes(c[0])),!r.requireAll)return s}else if("@type"===a){if(o=!1,l){if(c.length>0)return!1;s=!0}else if(1===n["@type"].length&&Ai.isEmptyObject(n["@type"][0]))s=c.length>0;else for(const e of n["@type"])s=!(!Ai.isObject(e)||!("@default"in e))||s||c.some(t=>t===e);if(!r.requireAll)return s}else{if(zs(a))continue;{const t=_i.getValues(n,a)[0];let i=!1;if(t&&(Ys([t]),i="@default"in t),o=!1,0===c.length&&i)continue;if(c.length>0&&l)return!1;if(void 0===t){if(c.length>0)return!1;s=!0}else if(Ci.isList(t)){const n=t["@list"][0];if(Ci.isList(c[0])){const t=c[0]["@list"];Ci.isValue(n)?s=t.some(e=>oc(n,e)):(Ci.isSubject(n)||Ci.isSubjectReference(n))&&(s=t.some(t=>rc(e,n,t,r)))}}else s=Ci.isValue(t)?c.some(e=>oc(t,e)):Ci.isSubjectReference(t)?c.some(n=>rc(e,t,n,r)):!!Ai.isObject(t)&&c.length>0}}if(!s&&r.requireAll)return!1;i=i||s}return o||i}function tc(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],o=r.parent,i=r.property,a={"@id":t};if(Ai.isArray(o)){for(let c=0;c<o.length;++c)if(_i.compareValues(o[c],a)){o[c]=a;break}}else{const e=Ai.isArray(o[i]);_i.removeValue(o,i,a,{propertyIsArray:e}),_i.addValue(o,i,a,{propertyIsArray:e})}const s=e=>{const t=Object.keys(n);for(const r of t)r in n&&Ai.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],s(r))};s(t)}function nc(e,t,n){Ai.isObject(e)?_i.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function rc(e,t,n,r){if(!("@id"in n))return!1;const o=e.subjects[n["@id"]];return o&&ec(e,o,t,r)}function oc(e,t){const n=t["@value"],r=t["@type"],o=t["@language"],i=e["@value"]?Ai.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?Ai.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?Ai.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===i.length&&0===a.length&&0===s.length||!(!i.includes(n)&&!Ai.isEmptyObject(i[0]))&&!!(!r&&0===a.length||a.includes(r)||r&&Ai.isEmptyObject(a[0]))&&!!(!o&&0===s.length||s.includes(o)||o&&Ai.isEmptyObject(s[0]))}Hs=Qs,Qs.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new _i.IdentifierIssuer("_:b");$s(e,r.graphMap,"@default",o),n.merged&&(r.graphMap["@merged"]=Ws(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const i=[];return Qs.frame(r,Object.keys(r.subjects).sort(),t,i),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),n.link={},function e(t,n){if(Ai.isArray(t))return t.map(t=>e(t,n));if(Ai.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(Ci.isValue(t))return t;if(Ci.isList(t))return t["@list"]=e(t["@list"],n),t;if("@id"in t){const e=t["@id"];if(n.link.hasOwnProperty(e)){const r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}for(const r in t)"@id"===r&&n.bnodesToClear.includes(t[r])?delete t["@id"]:t[r]=e(t[r],n)}return t}(i,n)},Qs.frame=(e,t,n,r,o=null)=>{Ys(n),n=n[0];const i=e.options,a={embed:Zs(n,i,"embed"),explicit:Zs(n,i,"explicit"),requireAll:Zs(n,i,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const s=e.link[e.graph],c=function(e,t,n,r){const o={};for(const i of t){const t=e.graphMap[e.graph][i];ec(e,t,n,r)&&(o[i]=t)}return o}(e,t,n,a),l=Object.keys(c).sort();for(const u of l){const l=c[u];if(null===o?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===a.embed&&u in s){nc(r,o,s[u]);continue}const d={"@id":u};if(0===u.indexOf("_:")&&_i.addValue(e.bnodeMap,u,d,{propertyIsArray:!0}),s[u]=d,("@first"===a.embed||"@last"===a.embed)&&e.is11)throw new Ri("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(u))if(!e.embedded||"@never"!==a.embed&&!Xs(l,e.graph,e.subjectStack))if(!e.embedded||"@first"!=a.embed&&"@once"!=a.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(u)){if("@last"===a.embed&&u in e.uniqueEmbeds[e.graph]&&tc(e,u),e.uniqueEmbeds[e.graph][u]={parent:r,property:o},e.subjectStack.push({subject:l,graph:e.graph}),u in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===u||"@default"===u),Ai.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&Qs.frame({...e,graph:u,embedded:!1},Object.keys(e.graphMap[u]).sort(),[r],d,"@graph")}"@included"in n&&Qs.frame({...e,embedded:!1},t,n["@included"],d,"@included");for(const t of Object.keys(l).sort())if(zs(t)){if(d[t]=_i.clone(l[t]),"@type"===t)for(const n of l["@type"])0===n.indexOf("_:")&&_i.addValue(e.bnodeMap,n,d,{propertyIsArray:!0})}else if(!a.explicit||t in n)for(const r of l[t]){const o=t in n?n[t]:Ks(a);if(Ci.isList(r)){const o=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:Ks(a),i={"@list":[]};nc(d,t,i);const s=r["@list"];for(const t of s)Ci.isSubjectReference(t)?Qs.frame({...e,embedded:!0},[t["@id"]],o,i,"@list"):nc(i,"@list",_i.clone(t))}else Ci.isSubjectReference(r)?Qs.frame({...e,embedded:!0},[r["@id"]],o,d,t):oc(o[0],r)&&nc(d,t,_i.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!Ai.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(zs(e))continue;const t=n[e][0]||{};if(!Zs(t,i,"omitDefault")&&!(e in d)){let n="@null";"@default"in t&&(n=_i.clone(t["@default"])),Ai.isArray(n)||(n=[n]),d[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects))_i.getValues(e.subjects[n],t).some(e=>e["@id"]===u)&&(d["@reverse"]=d["@reverse"]||{},_i.addValue(d["@reverse"],t,[],{propertyIsArray:!0}),Qs.frame({...e,embedded:!0},[n],r,d["@reverse"][t],o))}nc(r,o,d),e.subjectStack.pop()}else nc(r,o,d);else nc(r,o,d)}},Qs.cleanupNull=(e,t)=>{if(Ai.isArray(e))return e.map(e=>Qs.cleanupNull(e,t)).filter(e=>e);if("@null"===e)return null;if(Ai.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=Qs.cleanupNull(e[n],t)}return e};var ic;const{isArray:ac,isObject:sc,isString:cc,isUndefined:lc}=Ai,{isList:uc,isValue:dc,isGraph:pc,isSimpleGraph:fc,isSubjectReference:hc}=Ci,{expandIri:yc,getContextValue:gc,isKeyword:mc,process:vc,processingMode:bc}=ga,{removeBase:wc,prependBase:xc}=i({}),{addValue:Oc,asArray:Sc,compareShortestLeast:Ic}=_i,jc={};function Tc(e,t,n){if("@nest"!==yc(e,t,{vocab:!0},n))throw new Ri("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}ic=jc,jc.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:r={},compactionMap:o=(()=>{})})=>{if(ac(n)){let i=[];for(let a=0;a<n.length;++a){let s=await jc.compact({activeCtx:e,activeProperty:t,element:n[a],options:r,compactionMap:o});null===s&&void 0===(s=await o({unmappedValue:n[a],activeCtx:e,activeProperty:t,parent:n,index:a,options:r}))||i.push(s)}return r.compactArrays&&1===i.length&&0===(gc(e,t,"@container")||[]).length&&(i=i[0]),i}const i=gc(e,t,"@context");if(lc(i)||(e=await vc({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:r})),sc(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){const e=r.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(dc(n)||hc(n)){const o=jc.compactValue({activeCtx:e,activeProperty:t,value:n,options:r});return r.link&&hc(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:o})),o}if(uc(n)&&(gc(e,t,"@container")||[]).includes("@list"))return jc.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:r,compactionMap:o});const i="@reverse"===t,a={},s=e;dc(n)||hc(n)||(e=e.revertToPreviousContext());const c=gc(s,t,"@context");lc(c)||(e=await vc({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:a}));let l=n["@type"]||[];l.length>1&&(l=Array.from(l).sort());const u=e;for(const t of l){const n=jc.compactIri({activeCtx:u,iri:t,relativeTo:{vocab:!0}}),o=gc(s,n,"@context");lc(o)||(e=await vc({activeCtx:e,localCtx:o,options:r,propagate:!1}))}const d=Object.keys(n).sort();for(const p of d){const c=n[p];if("@id"!==p)if("@type"!==p)if("@reverse"!==p)if("@preserve"!==p)if("@index"!==p)if("@graph"!==p&&"@list"!==p&&"@included"!==p&&mc(p)){const t=jc.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Oc(a,t,c)}else{if(!ac(c))throw new Ri("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===c.length){const t=jc.compactIri({activeCtx:e,iri:p,value:c,relativeTo:{vocab:!0},reverse:i}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let o=a;n&&(Tc(e,n,r),sc(a[n])||(a[n]={}),o=a[n]),Oc(o,t,c,{propertyIsArray:!0})}for(const t of c){const n=jc.compactIri({activeCtx:e,iri:p,value:t,relativeTo:{vocab:!0},reverse:i}),s=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let c=a;s&&(Tc(e,s,r),sc(a[s])||(a[s]={}),c=a[s]);const l=gc(e,n,"@container")||[],u=pc(t),d=uc(t);let f;d?f=t["@list"]:u&&(f=t["@graph"]);let h=await jc.compact({activeCtx:e,activeProperty:n,element:d||u?f:t,options:r,compactionMap:o});if(d){if(ac(h)||(h=[h]),l.includes("@list")){Oc(c,n,h,{valueIsArray:!0,allowDuplicate:!0});continue}h={[jc.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:h},"@index"in t&&(h[jc.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(u)if(l.includes("@graph")&&(l.includes("@id")||l.includes("@index")&&fc(t))){let o;c.hasOwnProperty(n)?o=c[n]:c[n]=o={};const i=(l.includes("@id")?t["@id"]:t["@index"])||jc.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Oc(o,i,h,{propertyIsArray:!r.compactArrays||l.includes("@set")})}else l.includes("@graph")&&fc(t)?(ac(h)&&h.length>1&&(h={"@included":h}),Oc(c,n,h,{propertyIsArray:!r.compactArrays||l.includes("@set")})):(ac(h)&&1===h.length&&r.compactArrays&&(h=h[0]),h={[jc.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:h},"@id"in t&&(h[jc.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(h[jc.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),Oc(c,n,h,{propertyIsArray:!r.compactArrays||l.includes("@set")}));else if(l.includes("@language")||l.includes("@index")||l.includes("@id")||l.includes("@type")){let i,a;if(c.hasOwnProperty(n)?i=c[n]:c[n]=i={},l.includes("@language"))dc(h)&&(h=h["@value"]),a=t["@language"];else if(l.includes("@index")){const r=gc(e,n,"@index")||"@index",o=jc.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)a=t["@index"],delete h[o];else{let e;if([a,...e]=Sc(h[r]||[]),cc(a))switch(e.length){case 0:delete h[r];break;case 1:h[r]=e[0];break;default:h[r]=e}else a=null}}else if(l.includes("@id")){const t=jc.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a=h[t],delete h[t]}else if(l.includes("@type")){const i=jc.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let s;switch([a,...s]=Sc(h[i]||[]),s.length){case 0:delete h[i];break;case 1:h[i]=s[0];break;default:h[i]=s}1===Object.keys(h).length&&"@id"in t&&(h=await jc.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:r,compactionMap:o}))}a||(a=jc.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Oc(i,a,h,{propertyIsArray:l.includes("@set")})}else{const e=!r.compactArrays||l.includes("@set")||l.includes("@list")||ac(h)&&0===h.length||"@list"===p||"@graph"===p;Oc(c,n,h,{propertyIsArray:e})}}}else{if((gc(e,t,"@container")||[]).includes("@index"))continue;const n=jc.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Oc(a,n,c)}else{const n=await jc.compact({activeCtx:e,activeProperty:t,element:c,options:r,compactionMap:o});ac(n)&&0===n.length||Oc(a,p,n)}else{const t=await jc.compact({activeCtx:e,activeProperty:"@reverse",element:c,options:r,compactionMap:o});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const o=t[n],i=(gc(e,n,"@container")||[]).includes("@set")||!r.compactArrays;Oc(a,n,o,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=jc.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});Oc(a,n,t)}}else{let t=Sc(c).map(e=>jc.compactIri({activeCtx:s,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const n=jc.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(gc(e,n,"@container")||[]).includes("@set")&&bc(e,1.1)||ac(t)&&0===c.length;Oc(a,n,t,{propertyIsArray:r})}else{let t=Sc(c).map(t=>jc.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:r.base}));1===t.length&&(t=t[0]),a[jc.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return a}return n},jc.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:o=!1,base:i=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(mc(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(r.vocab&&t in a){const r=e["@language"]||"@none",i=[];sc(n)&&"@index"in n&&!("@graph"in n)&&i.push("@index","@index@set"),sc(n)&&"@preserve"in n&&(n=n["@preserve"][0]),pc(n)?("@index"in n&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in n||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||i.push("@graph@id","@graph@id@set")):sc(n)&&!dc(n)&&i.push("@id","@id@set","@type","@set@type");let a="@language",s="@null";if(o)a="@type",s="@reverse",i.push("@set");else if(uc(n)){"@index"in n||i.push("@list");const e=n["@list"];if(0===e.length)a="@any",s="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const o=e[r];let i="@none",a="@none";if(dc(o)?"@direction"in o?i=`${(o["@language"]||"").toLowerCase()}_${o["@direction"]}`:"@language"in o?i=o["@language"].toLowerCase():"@type"in o?a=o["@type"]:i="@null":a="@id",null===t?t=i:i!==t&&dc(o)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none","@none"!==(n=n||"@none")?(a="@type",s=n):s=t}}else{if(dc(n))if("@language"in n&&!("@index"in n)){i.push("@language","@language@set"),s=n["@language"];const e=n["@direction"];e&&(s=`${s}_${e}`)}else"@direction"in n&&!("@index"in n)?s="_"+n["@direction"]:"@type"in n&&(a="@type",s=n["@type"]);else a="@type",s="@id";i.push("@set")}i.push("@none"),!sc(n)||"@index"in n||i.push("@index","@index@set"),dc(n)&&1===Object.keys(n).length&&i.push("@language","@language@set");const c=function(e,t,n,r,o,i){null===i&&(i="@null");const a=[];if(("@id"===i||"@reverse"===i)&&sc(n)&&"@id"in n){"@reverse"===i&&a.push("@reverse");const t=jc.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(i);const e=a.find(e=>e.includes("_"));e&&a.push(e.replace(/^[^_]+_/,"_"))}a.push("@none");const s=e.inverse[t];for(const c of r){if(!(c in s))continue;const e=s[c][o];for(const t of a)if(t in e)return e[t]}return null}(e,t,n,i,a,s);if(null!==c)return c}if(r.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let s=null;const c=[];let l=e.fastCurieMap;const u=t.length-1;for(let d=0;d<u&&t[d]in l;++d)""in(l=l[t[d]])&&c.push(l[""][0]);for(let d=c.length-1;d>=0;--d){const r=c[d],o=r.terms;for(const i of o){const o=i+":"+t.substr(r.iri.length);e.mappings.get(i)._prefix&&(!e.mappings.has(o)||null===n&&e.mappings.get(o)["@id"]===t)&&(null===s||Ic(o,s)<0)&&(s=o)}}if(null!==s)return s;for(const[d,p]of e.mappings)if(p&&p._prefix&&t.startsWith(d+":"))throw new Ri(`Absolute IRI "${t}" confused with prefix "${d}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return r.vocab?t:"@base"in e?e["@base"]?wc(xc(i,e["@base"]),t):t:wc(i,t)},jc.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(dc(n)){const r=gc(e,t,"@type"),o=gc(e,t,"@language"),i=gc(e,t,"@direction"),a=gc(e,t,"@container")||[],s="@index"in n&&!a.includes("@index");if(!s&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===o&&"@direction"in n&&n["@direction"]===i)return n["@value"];if("@language"in n&&n["@language"]===o)return n["@value"];if("@direction"in n&&n["@direction"]===i)return n["@value"]}const c=Object.keys(n).length,l=1===c||2===c&&"@index"in n&&!s,u="@language"in e,d=cc(n["@value"]),p=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(l&&"@none"!==r&&(!u||!d||p))return n["@value"];const f={};return s&&(f[jc.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?f[jc.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=jc.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(f[jc.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(f[jc.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),f[jc.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],f}const o=yc(e,t,{vocab:!0},r),i=gc(e,t,"@type"),a=jc.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i},base:r.base});return"@id"===i||"@vocab"===i||"@graph"===o?a:{[jc.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}};var Ac={};(function(e,a){(function(){const s=_i.IdentifierIssuer,{expand:c}=Za,{flatten:l}=as,{fromRDF:u}=ps,{toRDF:d}=As,{frameMergedOrDefault:p,cleanupNull:f}=Hs,{isArray:h,isObject:y,isString:g}=Ai,{isSubjectReference:m}=Ci,{expandIri:v,getInitialContext:b,process:w,processingMode:x}=ga,{compact:O,compactIri:S}=ic,{createNodeMap:I,createMergedNodeMap:j,mergeNodeMaps:T}=rs,A=void 0!==e&&e.versions&&e.versions.node,N=!A&&("undefined"!=typeof window||"undefined"!=typeof self),C=function(e){const C={},E=new ca({max:100});function R(t,{documentLoader:n=e.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,t)}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new Ri("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(r=R(r,{base:g(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new ma({sharedCache:E})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,o=r.skipExpansion?t:await e.expand(t,r);const i=await e.processContext(b(r),n,r);let a=await O({activeCtx:i,element:o,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&h(a)?1===a.length?a=a[0]:0===a.length&&(a={}):r.graph&&y(a)&&(a=[a]),y(n)&&"@context"in n&&(n=n["@context"]),n=_i.clone(n),h(n)||(n=[n]);const c=n;n=[];for(let e=0;e<c.length;++e)(!y(c[e])||Object.keys(c[e]).length>0)&&n.push(c[e]);const l=n.length>0;if(1===n.length&&(n=n[0]),h(a)){const e=S({activeCtx:i,iri:"@graph",relativeTo:{vocab:!0}}),t=a;a={},l&&(a["@context"]=n),a[e]=t}else if(y(a)&&l){const e=a;a={"@context":n};for(const t in e)a[t]=e[t]}return a},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=R(n,{keepFreeFloatingNodes:!1,contextResolver:new ma({sharedCache:E})})).expansionMap&&(n.expansionMap=void 0);const r={},o=[];if("expandContext"in n){const e=_i.clone(n.expandContext);y(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},o.push(r.expandContext)}let i;if(g(t)){const a=await e.get(t,n);i=a.documentUrl,r.input=a.document,a.contextUrl&&(r.remoteContext={"@context":a.contextUrl},o.push(r.remoteContext))}else r.input=_i.clone(t);"base"in n||(n.base=i||"");let a=b(n);for(const e of o)a=await w({activeCtx:a,localCtx:e,options:n});let s=await c({activeCtx:a,element:r.input,options:n,expansionMap:n.expansionMap});return y(s)&&"@graph"in s&&1===Object.keys(s).length?s=s["@graph"]:null===s&&(s=[]),h(s)||(s=[s]),s},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=R(r,{base:g(t)?t:"",contextResolver:new ma({sharedCache:E})});const o=await e.expand(t,r),i=l(o);return null===n?i:(r.graph=!0,r.skipExpansion=!0,await e.compact(i,n,r))},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=R(r,{base:g(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ma({sharedCache:E})}),g(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?h(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const o=n&&n["@context"]||{},i=await e.processContext(b(r),o,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=x(i,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=x(i,1.1));const a=await e.expand(t,r),s={...r};s.isFrame=!0,s.keepFreeFloatingNodes=!0;const c=await e.expand(n,s),l=Object.keys(n).map(e=>v(i,e,{vocab:!0}));s.merged=!l.includes("@graph"),s.is11=x(i,1.1);const u=p(a,c,s);s.graph=!r.omitGraph,s.skipExpansion=!0,s.link={},s.framing=!0;let d=await e.compact(u,o,s);return s.link={},f(d,s)},e.link=async function(t,n,r){const o={};return n&&(o["@context"]=n),o["@embed"]="@link",e.frame(t,o,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=R(n,{base:g(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new ma({sharedCache:E})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new Ri("Unknown canonicalization input format.","jsonld.CanonizeError");const e=va.parse(t);return Ii.canonize(e,n)}const r={...n};delete r.format,r.produceGeneralizedRdf=!1;const o=await e.toRDF(t,r);return Ii.canonize(o,n)},e.fromRDF=async function(e,t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");t=R(t,{format:g(e)?"application/n-quads":void 0});const{format:n}=t;let{rdfParser:r}=t;if(n){if(!(r=r||C[n]))throw new Ri("Unknown input format.","jsonld.UnknownFormat",{format:n})}else r=()=>e;const o=await r(e);return u(o,t)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=R(n,{base:g(t)?t:"",skipExpansion:!1,contextResolver:new ma({sharedCache:E})})).skipExpansion?t:await e.expand(t,n);const o=d(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await va.serialize(o);throw new Ri("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=R(n,{base:g(t)?t:"",contextResolver:new ma({sharedCache:E})});const r=await e.expand(t,n);return j(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!h(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=R(r,{contextResolver:new ma({sharedCache:E})});const o=await Promise.all(t.map(t=>{const n={...r};return e.expand(t,n)}));let i=!0;"mergeNodes"in r&&(i=r.mergeNodes);const a=r.issuer||new s("_:b"),c={"@default":{}};for(let e=0;e<o.length;++e){const t=_i.relabelBlankNodes(o[e],{issuer:new s("_:b"+e+"-")}),n=i||0===e?c:{"@default":{}};if(I(t,n,"@default",a),n!==c)for(const e in n){const t=n[e];if(!(e in c)){c[e]=t;continue}const r=c[e];for(const e in t)e in r||(r[e]=t[e])}}const l=T(c),u=[],d=Object.keys(l).sort();for(let e=0;e<d.length;++e){const t=l[d[e]];m(t)||u.push(t)}return null===n?u:(r.graph=!0,r.skipExpansion=!0,await e.compact(u,n,r))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new Ri("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:e.documentLoader;const o=await r(t);try{if(!o.document)throw new Ri("No remote document found at the given URL.","jsonld.NullRemoteDocument");g(o.document)&&(o.document=JSON.parse(o.document))}catch(Hc){throw new Ri("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Hc,remoteDoc:o})}return o},e.processContext=async function(e,t,n){return n=R(n,{base:"",contextResolver:new ma({sharedCache:E})}),null===t?b(n):(t=_i.clone(t),y(t)&&"@context"in t||(t={"@context":t}),w({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=ga.getContextValue,e.documentLoaders={},e.documentLoaders.node=r({}),e.documentLoaders.xhr=n({}),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new Ri('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,t){C[e]=t},e.unregisterRDFParser=function(e){delete C[e]},e.registerRDFParser("application/n-quads",va.parse),e.registerRDFParser("application/nquads",va.parse),e.url=i({}),e.util=_i,Object.assign(e,_i),e.promises=e,e.RequestQueue=o({}),e.JsonLdProcessor=t({})(e),N&&void 0===a.JsonLdProcessor&&Object.defineProperty(a,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),A?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},E=function(){return C((function(){return E()}))};C(E),Ac=E}).call(this)}).call(this,R,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});bo("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),To);Mo.Set;var Nc={},Cc=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.nodeMergeAddIds=Nc.nodeMergeLanguageTerm=Nc.nodeMergeOverwrite=Nc.addEmptyArray=Nc.addInheritanceTermsDataTypesAndProperties=Nc.addInheritanceTermsClassAndEnum=Nc.extractFromClassMemory=Nc.getStandardContext=Nc.discoverEquateNamespaces=Nc.discoverUsedSchemaOrgProtocol=Nc.preProcessVocab=Nc.generateContext=Nc.curateVocabNode=void 0;const Ec=c({}),Rc=Cc(Ac);function _c(e,t){if(void 0!==e[t]){if((0,Ec.isString)(e[t]))e[t]={en:e[t]};else if((0,Ec.isLanguageObjectVocab)(e[t]))e[t]={[e[t]["@language"]]:e[t]["@value"]};else if((0,Ec.isArray)(e[t])){const n={};e[t].map(e=>{(0,Ec.isLanguageObjectVocab)(e)&&(n[e["@language"]]=e["@value"])}),e[t]=n}}else e[t]={}}function kc(e,t,n){(0,Ec.isString)(e[t])?e[t]=[e[t]]:void 0===e[t]&&e["@type"]===n&&(e[t]=[])}function Lc(e,t,n){if(Array.isArray(e))e.forEach((function(e){Lc(e,t,n)}));else{let r;if(r=(0,Ec.isObject)(e)&&(0,Ec.isString)(e["@id"])?e["@id"]:e,(0,Ec.isString)(r)&&r.startsWith("http")){const e=t.find(e=>r.startsWith(e));e&&!n.has(e)&&n.add(e)}}}Nc.curateVocabNode=function(e,t){if(_c(e,Wo._RDFS.comment),_c(e,Wo._RDFS.label),kc(e,Wo._RDFS.subClassOf,Wo.TermTypeIRI.class),kc(e,Wo._RDFS.subPropertyOf,Wo.TermTypeIRI.property),kc(e,Wo._SCHEMA.domainIncludes,Wo.TermTypeIRI.property),kc(e,Wo._SCHEMA.rangeIncludes,Wo.TermTypeIRI.property),void 0===e[Wo._SCHEMA.inverseOf]&&e["@type"]===Wo.TermTypeIRI.property&&(e[Wo._SCHEMA.inverseOf]=null),!(0,Ec.isString)(e[Wo._SCHEMA.isPartOf])){let n=Object.keys(t).find(t=>e["@id"].substring(0,e["@id"].indexOf(":"))===t);if((0,Ec.isString)(n)){let r;n=t[n];do{r=!1,(n.endsWith("/")||n.endsWith("#"))&&(n=n.substring(0,n.length-1),r=!0)}while(r);e[Wo._SCHEMA.isPartOf]=n}}return e},Nc.generateContext=function(e,t){const n=Object.keys(e),r=Object.keys(t);let o=(0,Ec.cloneJson)(e);for(const c of r)if((0,Ec.isString)(t[c])){let e=!1;for(const r of n)if((0,Ec.isString)(o[r])&&o[r]===t[c]){e=!0;break}if(e)continue;if(o[c]){if(o[c]!==t[c]){let e=!1,n=1;for(;!e;){const r=c+n++;o[r]||(e=!0,o[r]=t[c])}}}else o[c]=t[c]}const i={};Object.keys(o).sort().forEach((function(e){i[e]=o[e]})),o=i;const a=Object.keys(o),s={};for(const c of a)(0,Ec.isString)(o[c])&&(s[c]=o[c]);for(const c of a)(0,Ec.isObject)(o[c])&&(s[c]=o[c]);return s},Nc.preProcessVocab=async function(e,t){let n=!1;do{const t=[];n=!1;for(let r=0;r<e["@graph"].length;r++)void 0!==e["@graph"][r]["@graph"]?(t.push(...(0,Ec.cloneJson)(e["@graph"][r]["@graph"])),n=!0):t.push((0,Ec.cloneJson)(e["@graph"][r]));e["@graph"]=(0,Ec.cloneJson)(t)}while(n);const r=await Rc.default.compact(e,t);return void 0===r["@graph"]?(delete r["@context"],{"@context":t,"@graph":[r]}):r},Nc.discoverUsedSchemaOrgProtocol=function(e){const t="https://schema.org/",n="http://schema.org/";if(e["@context"])for(const a of Object.values(e["@context"]))if((0,Ec.isObject)(a)&&a["@vocab"]){if(a["@vocab"]===t)return"https";if(a["@vocab"]===n)return"http"}else if((0,Ec.isString)(a)){if(a===t)return"https";if(a===n)return"http"}const r=JSON.stringify(e),o=r.split(t).length-1,i=r.split(n).length-1;return o>i?"https":i>o?"http":t},Nc.discoverEquateNamespaces=function(e,t){const n=new Set,r=[];return Object.values(e).forEach((function(e){(0,Ec.isString)(e)&&r.push((0,Ec.switchIRIProtocol)(e))})),t["@context"]&&Object.values(t["@context"]).forEach((function(e){(0,Ec.isString)(e)&&r.includes(e)&&n.add(e)})),Array.isArray(t["@graph"])&&t["@graph"].forEach((function(e){Lc(e["@id"],r,n),Lc(e["@type"],r,n),Lc(e[Wo._RDFS.subClassOf],r,n),Lc(e["http://www.w3.org/2000/01/rdf-schema#subClassOf"],r,n),Lc(e[Wo._SCHEMA.domainIncludes],r,n),Lc(e["http://schema.org/domainIncludes"],r,n),Lc(e["https://schema.org/domainIncludes"],r,n),Lc(e[Wo._SCHEMA.rangeIncludes],r,n),Lc(e["http://schema.org/rangeIncludes"],r,n),Lc(e["https://schema.org/rangeIncludes"],r,n),Lc(e[Wo._RDFS.subPropertyOf],r,n),Lc(e["http://www.w3.org/2000/01/rdf-schema#subPropertyOf"],r,n),Lc(e[Wo._SCHEMA.inverseOf],r,n),Lc(e["http://schema.org/inverseOf"],r,n),Lc(e["https://schema.org/inverseOf"],r,n)})),Array.from(n)},Nc.getStandardContext=function(){const e={rdf:Wo.NsUrl.rdf,rdfs:Wo.NsUrl.rdfs,xsd:Wo.NsUrl.xsd,dcterms:Wo.NsUrl.dcterms,soa:Wo.NsUrl.soa,ds:Wo.NsUrl.ds};return[Wo._SOA.superClassOf,Wo._SOA.superPropertyOf,Wo._SOA.hasProperty,Wo._SOA.isRangeOf,Wo._SOA.hasEnumerationMember,Wo._SOA.enumerationDomainIncludes,Wo._RDFS.subClassOf,Wo._RDFS.subPropertyOf,Wo._SCHEMA.isPartOf,Wo._SCHEMA.domainIncludes,Wo._SCHEMA.rangeIncludes,Wo._SCHEMA.supersededBy,Wo._SCHEMA.inverseOf,Wo._SCHEMA.source,Wo._DC.source].map(t=>{e[t]={"@id":t,"@type":"@id"}}),e},Nc.extractFromClassMemory=function(e,t,n,r){let o;do{o=!1;const i=Object.keys(e),a=Object.keys(t);for(const s of i)if(void 0!==e[s][Wo._RDFS.subClassOf]){const i=e[s][Wo._RDFS.subClassOf];for(const c of i)(c===Wo.TermTypeIRI.enumeration||a.includes(c))&&(e[s]&&!t[s]?(o=!0,t[s]=(0,Ec.cloneJson)(e[s]),delete e[s]):e[s]&&t[s]&&(o=!0,n(t,e[s],r),delete e[s]))}}while(o)},Nc.addInheritanceTermsClassAndEnum=function(e,t,n,r){const o=Object.keys(e);for(const i of o){const o=e[i][n];e[i][r]||(e[i][r]=[]);for(const n of o){let o=e[n];o||(o=t[n]),o&&(o[r]?o[r].includes(i)||o[r].push(i):o[r]=[i])}}},Nc.addInheritanceTermsDataTypesAndProperties=function(e,t,n){const r=Object.keys(e);for(const o of r){const r=e[o][t];if(e[o][n]||(e[o][n]=[]),r)for(const t of r){const r=e[t];r&&(r[n]?r[n].includes(o)||r[n].push(o):r[n]=[o])}else e[o][t]=[]}},Nc.addEmptyArray=function(e,t){e[t]||(e[t]=[])},Nc.nodeMergeOverwrite=function(e,t,n){(0,Ec.isNil)(t[n])||(e[n]=t[n])},Nc.nodeMergeLanguageTerm=function(e,t,n){if(!(0,Ec.isNil)(t[n])){const r=Object.keys(t[n]);for(const o of r)e[n][o]=t[n][o]}},Nc.nodeMergeAddIds=function(e,t,n){if(!(0,Ec.isNil)(t[n]))for(const r of t[n])e[n].includes(r)||e[n].push(r)};var Dc={};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.Graph=void 0;const Pc=c({});Dc.Graph=class{constructor(e){this.sdoAdapter=e,this.context=(0,Nc.getStandardContext)(),this.classes={},this.properties={},this.dataTypes={},this.enumerations={},this.enumerationMembers={}}async addVocabulary(e,t){void 0===this.context.schema&&(this.context.schema=(0,Nc.discoverUsedSchemaOrgProtocol)(e)+"://schema.org/");try{if(this.sdoAdapter.equateVocabularyProtocols){const t=(0,Nc.discoverEquateNamespaces)(this.context,e);if(t.length>0){const n=(0,Pc.cloneJson)(e["@context"]);t.forEach(e=>{const t=Object.keys(n).find(t=>n[t]===e);t&&delete n[t];const r=Object.keys(this.context).find(t=>this.context[t]===(0,Pc.switchIRIProtocol)(e));n[r]=e}),e=await(0,Nc.preProcessVocab)(e,n),t.forEach(t=>{const n=Object.keys(this.context).find(e=>this.context[e]===(0,Pc.switchIRIProtocol)(t));e["@context"][n]=this.context[n]})}}this.context=(0,Nc.generateContext)(this.context,e["@context"]),e=await(0,Nc.preProcessVocab)(e,this.context);const n=this.sdoAdapter.getVocabularies();for(let t of e["@graph"])t=(0,Nc.curateVocabNode)(t,n);for(let i=0;i<e["@graph"].length;i++){const n=(0,Pc.cloneJson)(e["@graph"][i]);if((0,Pc.isString)(n["@type"]))switch(n["@type"]){case Wo.TermTypeIRI.class:this.addGraphNode(this.classes,n,t);break;case Wo.TermTypeIRI.property:this.addGraphNode(this.properties,n,t);break;default:this.addGraphNode(this.enumerationMembers,n,t)}else(0,Pc.isArray)(n["@type"])?n["@type"].includes(Wo.TermTypeIRI.class)&&n["@type"].includes(Wo.TermTypeIRI.dataType)?this.addGraphNode(this.dataTypes,n,t):this.addGraphNode(this.enumerationMembers,n,t):this.sdoAdapter.onError("unexpected @type format for the following node: "+JSON.stringify(n,null,2))}(0,Nc.extractFromClassMemory)(this.classes,this.enumerations,this.addGraphNode,t),(0,Nc.extractFromClassMemory)(this.classes,this.dataTypes,this.addGraphNode,t),Object.values(this.dataTypes).forEach(e=>e["@type"]=Wo.TermTypeIRI.dataType),(0,Nc.addInheritanceTermsClassAndEnum)(this.classes,this.enumerations,Wo._RDFS.subClassOf,Wo._SOA.superClassOf),(0,Nc.addInheritanceTermsClassAndEnum)(this.enumerations,this.enumerations,Wo._RDFS.subClassOf,Wo._SOA.superClassOf),(0,Nc.addInheritanceTermsDataTypesAndProperties)(this.dataTypes,Wo._RDFS.subClassOf,Wo._SOA.superClassOf),(0,Nc.addInheritanceTermsDataTypesAndProperties)(this.properties,Wo._RDFS.subPropertyOf,Wo._SOA.superPropertyOf),Object.values(this.classes).forEach(e=>{(0,Nc.addEmptyArray)(e,Wo._SOA.hasProperty),(0,Nc.addEmptyArray)(e,Wo._SOA.isRangeOf)}),Object.values(this.enumerations).forEach(e=>{(0,Nc.addEmptyArray)(e,Wo._SOA.hasEnumerationMember),(0,Nc.addEmptyArray)(e,Wo._SOA.isRangeOf),(0,Nc.addEmptyArray)(e,Wo._SOA.hasProperty)}),Object.values(this.dataTypes).forEach(e=>{(0,Nc.addEmptyArray)(e,Wo._SOA.isRangeOf)}),Object.values(this.enumerationMembers).forEach(e=>{(0,Nc.addEmptyArray)(e,Wo._SOA.enumerationDomainIncludes)});const r=Object.keys(this.properties);for(const e of r){const t=this.properties[e][Wo._SCHEMA.domainIncludes];if((0,Pc.isArray)(t))for(const r of t){let t=this.classes[r];t||(t=this.enumerations[r]),t&&(0,Pc.isArray)(t[Wo._SOA.hasProperty])&&!t[Wo._SOA.hasProperty].includes(e)&&t[Wo._SOA.hasProperty].push(e)}const n=this.properties[e][Wo._SCHEMA.rangeIncludes];if((0,Pc.isArray)(n))for(const r of n){const t=this.classes[r]||this.enumerations[r]||this.dataTypes[r];t&&(0,Pc.isArray)(t[Wo._SOA.isRangeOf])&&!t[Wo._SOA.isRangeOf].includes(e)&&t[Wo._SOA.isRangeOf].push(e)}}const o=Object.keys(this.enumerationMembers);for(const e of o){const t=this.enumerationMembers[e];let n=t["@type"];(0,Pc.isArray)(n)||(n=[n]);for(const r of n){const n=this.enumerations[r];n&&(0,Pc.isArray)(n[Wo._SOA.hasEnumerationMember])&&!n[Wo._SOA.hasEnumerationMember].includes(e)&&(n[Wo._SOA.hasEnumerationMember].push(e),(0,Pc.isArray)(t[Wo._SOA.enumerationDomainIncludes])?t[Wo._SOA.enumerationDomainIncludes].push(r):t[Wo._SOA.enumerationDomainIncludes]=[r])}}return!0}catch(Hc){return this.sdoAdapter.onError(Hc),!1}}addGraphNode(e,t,n){try{if(e[t["@id"]]){const r=e[t["@id"]];(0,Nc.nodeMergeOverwrite)(r,t,Wo._SCHEMA.isPartOf),(0,Nc.nodeMergeOverwrite)(r,t,Wo._DC.source),(0,Nc.nodeMergeOverwrite)(r,t,Wo._SCHEMA.source),(0,Nc.nodeMergeOverwrite)(r,t,Wo._SCHEMA.category),(0,Nc.nodeMergeOverwrite)(r,t,Wo._SCHEMA.supersededBy),(0,Nc.nodeMergeLanguageTerm)(r,t,Wo._RDFS.label),(0,Nc.nodeMergeLanguageTerm)(r,t,Wo._RDFS.comment),(0,Nc.nodeMergeAddIds)(r,t,Wo._RDFS.subClassOf),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.superClassOf),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.hasProperty),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.isRangeOf),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.enumerationDomainIncludes),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.hasEnumerationMember),(0,Nc.nodeMergeAddIds)(r,t,Wo._RDFS.subPropertyOf),(0,Nc.nodeMergeAddIds)(r,t,Wo._SCHEMA.domainIncludes),(0,Nc.nodeMergeAddIds)(r,t,Wo._SCHEMA.rangeIncludes),(0,Nc.nodeMergeAddIds)(r,t,Wo._SOA.superPropertyOf),n&&(r.vocabURLs?r.vocabURLs.includes(n)||r.vocabURLs.push(n):r.vocabURLs=[n])}else e[t["@id"]]=t,n&&(e[t["@id"]].vocabURLs=[n]);return!0}catch(Hc){return this.sdoAdapter.onError(Hc),!1}}getTerm(e,t){const n=this.discoverCompactIRI(e);if(!n)throw new Error("There is no term with the IRI "+e);let r,o,i=0;do{switch(i){case 0:r=this.classes[n],o="Class";break;case 1:r=this.properties[n],o="Property";break;case 2:r=this.dataTypes[n],o="DataType";break;case 3:r=this.enumerations[n],o="Enumeration";break;case 4:r=this.enumerationMembers[n],o="EnumerationMember"}i++}while(!r&&i<6);if(!r||!o)throw new Error("There is no term with the IRI "+e);if(0===(r=(0,Zo.applyFilter)({data:[r["@id"]],filter:t,graph:this})).length)throw new Error("There is no term with that IRI and filter settings.");switch(o){case"Class":return new ni.Class(n,this);case"Property":return new ri.Property(n,this);case"Enumeration":return new oi.Enumeration(n,this);case"EnumerationMember":return new ai.EnumerationMember(n,this);case"DataType":return new ci.DataType(n,this)}throw new Error("targetType with unknown value: "+o)}getClass(e,t){const n=this.discoverCompactIRI(e);if(n){let e=this.classes[n];if(e){if(0===(e=(0,Zo.applyFilter)({data:[n],filter:t,graph:this})).length)throw new Error("There is no class with that IRI and filter settings.");return new ni.Class(n,this)}if(e=this.enumerations[n])try{return this.getEnumeration(n,t)}catch(Hc){throw new Error("There is no class with that IRI and filter settings.")}}throw new Error("There is no class with the IRI "+e)}getProperty(e,t){const n=this.discoverCompactIRI(e);if(n){let e=this.properties[n];if(e){if(0===(e=(0,Zo.applyFilter)({data:[n],filter:t,graph:this})).length)throw new Error("There is no property with that URI and filter settings.");return new ri.Property(n,this)}}throw new Error("There is no property with that URI.")}getDataType(e,t){const n=this.discoverCompactIRI(e);if(n){let e=this.dataTypes[n];if(e){if(0===(e=(0,Zo.applyFilter)({data:[n],filter:t,graph:this})).length)throw new Error("There is no data-type with that IRI and filter settings.");return new ci.DataType(n,this)}}throw new Error("There is no data-type with the IRI "+e)}getEnumeration(e,t){const n=this.discoverCompactIRI(e);if(n){let e=this.enumerations[n];if(e){if(0===(e=(0,Zo.applyFilter)({data:[n],filter:t,graph:this})).length)throw new Error("There is no enumeration with that IRI and filter settings.");return new oi.Enumeration(n,this)}}throw new Error("There is no enumeration with the IRI "+e)}getEnumerationMember(e,t){const n=this.discoverCompactIRI(e);if(n){let e=this.enumerationMembers[n];if(e){if(0===(e=(0,Zo.applyFilter)({data:[n],filter:t,graph:this})).length)throw new Error("There is no EnumerationMember with that IRI and filter settings.");return new ai.EnumerationMember(n,this)}}throw new Error("There is no EnumerationMember with the IRI "+e)}discoverCompactIRI(e){if(e.includes(":")){const t=Object.keys(this.context);for(const n of t){const t=this.context[n];if((0,Pc.isString)(t)){if(e.startsWith(n))return e;if(e.startsWith(t)||this.sdoAdapter.equateVocabularyProtocols&&e.startsWith((0,Pc.switchIRIProtocol)(t)))try{return(0,Pc.toCompactIRI)(e,this.context,this.sdoAdapter.equateVocabularyProtocols)}catch(Hc){return null}}}}else{const t=Object.keys(this.classes);for(const a of t)if(this.containsLabel(this.classes[a],e))return a;const n=Object.keys(this.properties);for(const a of n)if(this.containsLabel(this.properties[a],e))return a;const r=Object.keys(this.dataTypes);for(const a of r)if(this.containsLabel(this.dataTypes[a],e))return a;const o=Object.keys(this.enumerations);for(const a of o)if(this.containsLabel(this.enumerations[a],e))return a;const i=Object.keys(this.enumerationMembers);for(const a of i)if(this.containsLabel(this.enumerationMembers[a],e))return a}return null}containsLabel(e,t){if(e&&(0,Pc.isObject)(e[Wo._RDFS.label])){const n=Object.keys(e[Wo._RDFS.label]);for(const r of n)if(e[Wo._RDFS.label][r]===t)return!0}return!1}};var Mc={},Fc=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.SDOAdapter=void 0;const Jc=Fc(de),Uc=c({});Mc.SDOAdapter=class{constructor(e){(null==e?void 0:e.commit)&&(this.commit=e.commit),"function"==typeof(null==e?void 0:e.onError)?this.onError=e.onError:this.onError=function(){},void 0!==(null==e?void 0:e.schemaHttps)?this.schemaHttps=e.schemaHttps:this.schemaHttps=!0,void 0!==(null==e?void 0:e.equateVocabularyProtocols)?this.equateVocabularyProtocols=e.equateVocabularyProtocols:this.equateVocabularyProtocols=!1,this.graph=new Dc.Graph(this)}async addVocabularies(e){e=(0,Uc.toArray)(e);for(const t of e)if((0,Uc.isString)(t))if(t.startsWith("www")||t.startsWith("http"))try{let e=await this.fetchVocabularyFromURL(t);(0,Uc.isString)(e)&&(e=JSON.parse(e)),await this.graph.addVocabulary(e,t)}catch(Hc){throw new Error("The given URL "+t+" did not contain a valid JSON-LD vocabulary.")}else try{await this.graph.addVocabulary(JSON.parse(t))}catch(Hc){throw new Error("Parsing of vocabulary string produced an invalid JSON-LD.")}else{if(!(0,Uc.isObject)(t))throw new Error("The first argument of the function must be an Array of vocabularies or a single vocabulary (JSON-LD as Object/String)");await this.graph.addVocabulary(t)}return!0}async fetchVocabularyFromURL(e){try{return(await Jc.default.get(e,{headers:{Accept:"application/ld+json, application/json"}})).data}catch(Hc){throw new Error("Could not find any resource at the given URL.")}}getTerm(e,t){return this.graph.getTerm(e,t)}getAllTerms(e){const t=[],n=this.getListOfClasses(e),r=this.getListOfEnumerations(e),o=this.getListOfProperties(e),i=this.getListOfDataTypes(e),a=this.getListOfEnumerationMembers(e);for(const s of n)t.push(this.getClass(s));for(const s of r)t.push(this.getEnumeration(s));for(const s of o)t.push(this.getProperty(s));for(const s of i)t.push(this.getDataType(s));for(const s of a)t.push(this.getEnumerationMember(s));return t}getListOfTerms(e){const t=[];return t.push(...Object.keys(this.graph.classes)),t.push(...Object.keys(this.graph.enumerations)),t.push(...Object.keys(this.graph.properties)),t.push(...Object.keys(this.graph.dataTypes)),t.push(...Object.keys(this.graph.enumerationMembers)),(0,Zo.applyFilter)({data:t,filter:e,graph:this.graph})}getClass(e,t){return this.graph.getClass(e,t)}getAllClasses(e){const t=[],n=this.getListOfClasses(e);for(const r of n)t.push(this.getClass(r));return t}getListOfClasses(e){return(0,Zo.applyFilter)({data:Object.keys(this.graph.classes),filter:e,graph:this.graph})}getProperty(e,t){return this.graph.getProperty(e,t)}getAllProperties(e){const t=[],n=this.getListOfProperties(e);for(const r of n)t.push(this.getProperty(r));return t}getListOfProperties(e){return(0,Zo.applyFilter)({data:Object.keys(this.graph.properties),filter:e,graph:this.graph})}getDataType(e,t){return this.graph.getDataType(e,t)}getAllDataTypes(e){const t=[],n=this.getListOfDataTypes(e);for(const r of n)t.push(this.getDataType(r));return t}getListOfDataTypes(e){return(0,Zo.applyFilter)({data:Object.keys(this.graph.dataTypes),filter:e,graph:this.graph})}getEnumeration(e,t){return this.graph.getEnumeration(e,t)}getAllEnumerations(e){const t=[],n=this.getListOfEnumerations(e);for(const r of n)t.push(this.getEnumeration(r));return t}getListOfEnumerations(e){return(0,Zo.applyFilter)({data:Object.keys(this.graph.enumerations),filter:e,graph:this.graph})}getEnumerationMember(e,t){return this.graph.getEnumerationMember(e,t)}getAllEnumerationMembers(e){const t=[],n=this.getListOfEnumerationMembers(e);for(const r of n)t.push(this.getEnumerationMember(r));return t}getListOfEnumerationMembers(e){return(0,Zo.applyFilter)({data:Object.keys(this.graph.enumerationMembers),filter:e,graph:this.graph})}getVocabularies(e=!0){const t=Object.keys(this.graph.context),n={},r=["soa","xsd","rdf","rdfa","rdfs","dcterms","brick","csvw","dc","dcam","dcat","dcmitype","doap","foaf","odrl","org","owl","prof","prov","qb","sh","skos","sosa","ssn","time","vann","void","geo","wgs","ds"];return t.forEach(t=>{!(0,Uc.isString)(this.graph.context[t])||e&&r.includes(t)||(n[t]=this.graph.context[t])}),n}async getLatestSchemaVersion(){return await(0,Uc.getLatestSchemaVersion)(this.commit)}async constructURLSchemaVocabulary(e="latest"){return await(0,Uc.constructURLSchemaVocabulary)(e,this.schemaHttps,this.commit)}};var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.constructURLSchemaVocabulary=Bc.getLatestSchemaVersion=Bc.fetchSchemaVersions=Bc.create=void 0;const Vc=c({});return Object.defineProperty(Bc,"fetchSchemaVersions",{enumerable:!0,get:function(){return Vc.fetchSchemaVersions}}),Object.defineProperty(Bc,"getLatestSchemaVersion",{enumerable:!0,get:function(){return Vc.getLatestSchemaVersion}}),Object.defineProperty(Bc,"constructURLSchemaVocabulary",{enumerable:!0,get:function(){return Vc.constructURLSchemaVocabulary}}),Bc.create=async function(e){const t=new Mc.SDOAdapter(e);if(e&&e.schemaVersion){const n=await(0,Vc.constructURLSchemaVocabulary)(e.schemaVersion,e.schemaHttps,e.commit);await t.addVocabularies(n)}return e&&e.vocabularies&&await t.addVocabularies(e.vocabularies),t},Bc}));